<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xô Phim - PHIM HAY CẢ XÔ </title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --xo-vang: #d4a017; --bg-dark: #0b0c10; }
        body { background-color: var(--bg-dark); color: #e2e8f0; font-family: 'Inter', sans-serif; overflow-x: hidden; }
        
        #header { 
            position: fixed; top: 0; left: 0; width: 100%; z-index: 120;
            background: linear-gradient(to bottom, rgba(160, 0, 0, 0.98) 0%, rgba(130, 0, 0, 0.85) 60%, transparent 100%);
            padding: 15px 20px 30px 20px;
        }

        .search-bar {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px; padding: 8px 15px;
            display: flex; align-items: center; gap: 10px; width: 100%; max-width: 400px;
        }
        .search-bar input { background: transparent; border: none; outline: none; color: white; font-size: 14px; width: 100%; }

        .nav-scroll {
            display: flex; overflow-x: auto; white-space: nowrap;
            gap: 20px; padding: 15px 0 0 0; scrollbar-width: none;
        }
        .nav-scroll::-webkit-scrollbar { display: none; }
        .nav-item { color: rgba(255,255,255,0.9); font-size: 14px; font-weight: 500; display: flex; align-items: center; gap: 4px; transition: 0.3s; }
        .nav-item:hover { color: var(--xo-vang); }
        .badge-new { background: #f59e0b; color: #000; font-size: 9px; padding: 1px 4px; border-radius: 3px; font-weight: 900; }

        #tet-alert {
            position: fixed; inset: 0; z-index: 300; display: flex; align-items: center; justify-content: center;
            background: rgba(0,0,0,0.92); backdrop-filter: blur(8px);
        }
        .alert-box {
            background: #8B0000; padding: 2.5rem; border: 4px solid var(--xo-vang); text-align: center; 
            max-width: 85%; border-radius: 30px; box-shadow: 0 0 60px rgba(212,160,23,0.4);
            animation: zoomIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); transition: 0.5s;
        }
        @keyframes zoomIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .closing { transform: scale(0) !important; opacity: 0 !important; }

        .cat-btn {
            width: 110px; height: 110px; margin: 0 auto; border-radius: 50%; border: 4px solid var(--xo-vang);
            overflow: hidden; cursor: pointer; box-shadow: 0 0 20px var(--xo-vang); transition: 0.3s;
        }
        .cat-btn:hover { transform: scale(1.1); }

        .topic-card { min-width: 160px; height: 90px; border-radius: 16px; display: flex; flex-direction: column; justify-content: space-between; transition: 0.3s; cursor: pointer; padding: 15px; }
        .topic-card:hover { transform: translateY(-5px); filter: brightness(1.2); }

        .footer { background: #060709; padding: 60px 20px; border-top: 1px solid rgba(255,255,255,0.05); position: relative; }
        .footer-tag { background: #900; color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px; display: inline-block; margin-bottom: 20px; }
        .social-icons { display: flex; gap: 12px; margin: 20px 0; }
        .social-icons a { width: 35px; height: 35px; border-radius: 50%; background: rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: center; transition: 0.3s; }
        .social-icons a:hover { background: var(--xo-vang); color: black; }
        
        .btn-top { position: absolute; bottom: 30px; right: 20px; background: white; color: black; padding: 8px 12px; border-radius: 10px; font-weight: 900; font-size: 10px; text-align: center; cursor: pointer; }

        .sakura { position: fixed; top: -10%; z-index: 100; pointer-events: none; background: #ffb7c5; border-radius: 50% 0 50% 50%; animation: fall linear infinite; }
        @keyframes fall { 100% { transform: translateY(110vh) rotate(720deg); opacity: 0; } }

        #fw-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 90; }

        .thumb-item {
            width: 45px; height: 45px; border-radius: 50%; overflow: hidden; 
            cursor: pointer; border: 2px solid transparent; transition: 0.3s;
            opacity: 0.5;
        }
        .thumb-item.active { border-color: white; opacity: 1; transform: scale(1.1); }
    </style>
</head>
<body>

    <canvas id="fw-canvas"></canvas>

    <div id="tet-alert">
        <div class="alert-box" id="alertBox">
            <h2 class="text-2xl font-black mb-3 text-yellow-400 italic uppercase">CẢNH BÁO !</h2>
            <p class="text-md font-bold text-white mb-6 leading-tight">CÓ CHỨA QC CỜ BẠC TRÁNH XA NHÉ!<br>
            <span class="text-xs font-normal text-gray-200">Chúc các bạn yêu nhiều sức khỏe, kiếm nhiều tiền nha!</span></p>
            <div class="cat-btn" onclick="closeAlertWithEffect()">
                <img src="https://jbagy.me/wp-content/uploads/2025/04/Hinh-meme-meo-cuoi-deu-1.jpg" class="w-full h-full object-cover">
            </div>
            <p class="text-[10px] text-yellow-500 font-bold mt-4 uppercase tracking-widest">Chạm Mèo để vào phim</p>
        </div>
    </div>

    <header id="header">
        <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
            <div onclick="location.reload()" class="flex items-center justify-between w-full md:w-auto">
                <div class="flex items-center gap-2 cursor-pointer">
                    <div class="w-9 h-8 bg-[#d4a017] rounded-b-xl flex items-center justify-center">
                        <i class="fas fa-play text-black text-xs"></i>
                    </div>
                    <div class="flex flex-col leading-none">
                        <span class="text-xl font-black text-white tracking-tighter uppercase">XÔ PHIM</span>
                        <span class="text-[8px] text-gray-400 font-bold tracking-widest uppercase">Đức Anh Đẹp Trai</span>
                    </div>
                </div>
            </div>
            <div class="search-bar">
                <i class="fas fa-search text-gray-400 text-sm"></i>
                <input type="text" id="searchInput" placeholder="Tìm phim (Nhấn Enter)..." onkeypress="if(event.key === 'Enter') searchMovies(this.value)">
            </div>
        </div>
        <nav class="nav-scroll">
            <a href="#" class="nav-item">Chủ Đề</a>
            <a href="#" class="nav-item">Thể loại <i class="fas fa-caret-down text-[10px]"></i></a>
            <a href="#" class="nav-item">Phim Lẻ</a>
            <a href="#" class="nav-item">Phim Bộ</a>
            <a href="#" class="nav-item"><span class="badge-new">NEW</span> Xem Chung</a>
            <a href="#" class="nav-item">Quốc gia</a>
        </nav>
    </header>

    <section id="banner-section" class="relative h-[85vh] w-full pt-32 overflow-hidden">
        <div id="banner-bg" class="absolute inset-0 bg-cover bg-center transition-all duration-1000 scale-105 opacity-60"></div>
        <div class="absolute inset-0" style="background: linear-gradient(to top, var(--bg-dark) 5%, transparent 100%), linear-gradient(to right, rgba(0,0,0,0.8) 0%, transparent 60%);"></div>
        
        <div class="relative z-10 flex flex-col items-start justify-end h-full px-10 pb-20 max-w-4xl text-left">
            <h1 id="title" class="text-4xl md:text-6xl font-black mb-2 text-white drop-shadow-lg leading-tight uppercase italic">ĐANG TẢI...</h1>
            <p id="sub" class="text-yellow-500 text-lg font-bold mb-4 italic">--</p>
            
            <div id="info-badges" class="flex flex-wrap gap-2 mb-4"></div>
            <div id="genres" class="flex flex-wrap gap-2 mb-6"></div>
            <p id="desc" class="text-gray-300 text-sm md:text-base mb-8 line-clamp-3 max-w-2xl leading-relaxed">Vui lòng đợi trong giây lát để hệ thống lấy dữ liệu phim mới nhất.</p>
            
            <div class="flex flex-col gap-6">
                <div class="flex items-center gap-4">
                    <button onclick="playCurrent()" class="bg-yellow-500 text-black px-10 py-3 rounded-full font-black hover:scale-110 transition shadow-lg flex items-center gap-2">
                        <i class="fas fa-play"></i> XEM NGAY
                    </button>
                    <button class="w-12 h-12 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center hover:bg-white/20 transition">
                        <i class="far fa-heart text-white"></i>
                    </button>
                    <button class="w-12 h-12 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center hover:bg-white/20 transition">
                        <i class="fas fa-exclamation-circle text-white"></i>
                    </button>
                </div>
                
                <div id="banner-thumbs" class="flex gap-3"></div>
            </div>
        </div>
    </section>

    <section class="px-6 py-10">
        <h2 class="text-lg font-bold text-white mb-6 uppercase tracking-tight">Bạn đang quan tâm gì?</h2>
        <div class="flex overflow-x-auto gap-4 pb-4" style="scrollbar-width: none;">
            <div onclick="searchMovies('Marvel')" class="topic-card bg-blue-600"><span class="font-black italic text-lg">Marvel</span><span class="text-[10px] uppercase font-bold">Xem chủ đề <i class="fas fa-chevron-right"></i></span></div>
            <div onclick="searchMovies('Hoạt Hình')" class="topic-card bg-teal-600"><span class="font-black italic text-lg">Hoạt Hình</span><span class="text-[10px] uppercase font-bold">Xem chủ đề <i class="fas fa-chevron-right"></i></span></div>
            <div onclick="searchMovies('Hành Động')" class="topic-card bg-purple-600"><span class="font-black italic text-lg leading-tight">Hành Động<br>Cực Mạnh</span><span class="text-[10px] uppercase font-bold">Xem chủ đề <i class="fas fa-chevron-right"></i></span></div>
            <div onclick="searchMovies('Xuyên Không')" class="topic-card bg-orange-600"><span class="font-black italic text-lg">Xuyên Không</span><span class="text-[10px] uppercase font-bold">Xem chủ đề <i class="fas fa-chevron-right"></i></span></div>
            <div onclick="searchMovies('Kinh Dị')" class="topic-card bg-red-700"><span class="font-black italic text-lg">Kinh Dị</span><span class="text-[10px] uppercase font-bold">Xem chủ đề <i class="fas fa-chevron-right"></i></span></div>
            <div onclick="searchMovies('Hài Hước')" class="topic-card bg-indigo-700"><span class="font-black italic text-lg">Hài Hước</span><span class="text-[10px] uppercase font-bold">Xem chủ đề <i class="fas fa-chevron-right"></i></span></div>
            <div class="topic-card bg-gray-800 border border-gray-700 flex items-center justify-center"><span class="font-black uppercase">+1 chủ đề</span></div>
        </div>
    </section>

    <main class="px-6 pb-20">
        <h2 id="grid-title" class="text-xl font-extrabold italic uppercase mb-8 border-l-4 border-red-600 pl-4">Phim Mới Cập Nhật</h2>
        <div id="movie-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-6"></div>
    </main>

    <footer class="footer">
        <div class="max-w-7xl mx-auto">
            <div class="footer-tag">★ Hoàng Sa & Trường Sa là của Việt Nam!</div>
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-9 bg-[#d4a017
