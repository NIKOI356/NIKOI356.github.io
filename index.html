<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xô Phim - PHIM HAY CẢ XÔ </title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --xo-vang: #d4a017; --bg-dark: #0b0c10; }
        body { background-color: var(--bg-dark); color: #e2e8f0; font-family: 'Inter', sans-serif; overflow-x: hidden; }
        
        #header { 
            position: fixed; top: 0; left: 0; width: 100%; z-index: 120;
            background: linear-gradient(to bottom, rgba(160, 0, 0, 0.98) 0%, rgba(130, 0, 0, 0.85) 60%, transparent 100%);
            padding: 15px 20px 30px 20px;
        }

        .search-bar {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px; padding: 8px 15px;
            display: flex; align-items: center; gap: 10px; width: 100%; max-width: 400px;
        }
        .search-bar input { background: transparent; border: none; outline: none; color: white; font-size: 14px; width: 100%; }

        .nav-scroll {
            display: flex; overflow-x: auto; white-space: nowrap;
            gap: 20px; padding: 15px 0 0 0; scrollbar-width: none;
        }
        .nav-scroll::-webkit-scrollbar { display: none; }
        .nav-item { color: rgba(255,255,255,0.9); font-size: 14px; font-weight: 500; display: flex; align-items: center; gap: 4px; transition: 0.3s; }
        .nav-item:hover { color: var(--xo-vang); }
        .badge-new { background: #f59e0b; color: #000; font-size: 9px; padding: 1px 4px; border-radius: 3px; font-weight: 900; }

        #tet-alert {
            position: fixed; inset: 0; z-index: 300; display: flex; align-items: center; justify-content: center;
            background: rgba(0,0,0,0.92); backdrop-filter: blur(8px);
        }
        .alert-box {
            background: #8B0000; padding: 2.5rem; border: 4px solid var(--xo-vang); text-align: center; 
            max-width: 85%; border-radius: 30px; box-shadow: 0 0 60px rgba(212,160,23,0.4);
            animation: zoomIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); transition: 0.5s;
        }
        @keyframes zoomIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .closing { transform: scale(0) !important; opacity: 0 !important; }

        .cat-btn {
            width: 110px; height: 110px; margin: 0 auto; border-radius: 50%; border: 4px solid var(--xo-vang);
            overflow: hidden; cursor: pointer; box-shadow: 0 0 20px var(--xo-vang); transition: 0.3s;
        }
        .cat-btn:hover { transform: scale(1.1); }

        .topic-card { min-width: 160px; height: 90px; border-radius: 16px; display: flex; flex-direction: column; justify-content: space-between; transition: 0.3s; cursor: pointer; padding: 15px; }
        .topic-card:hover { transform: translateY(-5px); filter: brightness(1.2); }

        .footer { background: #060709; padding: 60px 20px; border-top: 1px solid rgba(255,255,255,0.05); position: relative; }
        .footer-tag { background: #900; color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px; display: inline-block; margin-bottom: 20px; }
        .social-icons { display: flex; gap: 12px; margin: 20px 0; }
        .social-icons a { width: 35px; height: 35px; border-radius: 50%; background: rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: center; transition: 0.3s; }
        .social-icons a:hover { background: var(--xo-vang); color: black; }
        
        .btn-top { position: absolute; bottom: 30px; right: 20px; background: white; color: black; padding: 8px 12px; border-radius: 10px; font-weight: 900; font-size: 10px; text-align: center; cursor: pointer; }

        .sakura { position: fixed; top: -10%; z-index: 100; pointer-events: none; background: #ffb7c5; border-radius: 50% 0 50% 50%; animation: fall linear infinite; }
        @keyframes fall { 100% { transform: translateY(110vh) rotate(720deg); opacity: 0; } }

        #fw-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 90; }

        .thumb-item {
            width: 45px; height: 45px; border-radius: 50%; overflow: hidden; 
            cursor: pointer; border: 2px solid transparent; transition: 0.3s;
            opacity: 0.5;
        }
        .thumb-item.active { border-color: white; opacity: 1; transform: scale(1.1); }
    </style>
</head>
<body>

    <canvas id="fw-canvas"></canvas>

    <div id="tet-alert">
        <div class="alert-box" id="alertBox">
            <h2 class="text-2xl font-black mb-3 text-yellow-400 italic uppercase">CẢNH BÁO !</h2>
            <p class="text-md font-bold text-white mb-6 leading-tight">CÓ CHỨA QC CỜ BẠC TRÁNH XA NHÉ!<br>
            <span class="text-xs font-normal text-gray-200">Chúc các bạn yêu nhiều sức khỏe, kiếm nhiều tiền nha!</span></p>
            <div class="cat-btn" onclick="closeAlertWithEffect()">
                <img src="https://jbagy.me/wp-content/uploads/2025/04/Hinh-meme-meo-cuoi-deu-1.jpg" class="w-full h-full object-cover">
            </div>
            <p class="text-[10px] text-yellow-500 font-bold mt-4 uppercase tracking-widest">Chạm Mèo để vào phim</p>
        </div>
    </div>

    <header id="header">
        <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
            <div class="flex items-center justify-between w-full md:w-auto">
                <div class="flex items-center gap-2 cursor-pointer">
                    <div class="w-9 h-8 bg-[#d4a017] rounded-b-xl flex items-center justify-center">
                        <i class="fas fa-play text-black text-xs"></i>
                    </div>
                    <div class="flex flex-col leading-none">
                        <span class="text-xl font-black text-white tracking-tighter uppercase">XÔ PHIM</span>
                        <span class="text-[8px] text-gray-400 font-bold tracking-widest uppercase">Đức Anh Đẹp Trai</span>
                    </div>
                </div>
            </div>
            <div class="search-bar">
                <i class="fas fa-search text-gray-400 text-sm"></i>
                <input type="text" placeholder="Tìm phim, diễn viên...">
            </div>
        </div>
        <nav class="nav-scroll">
            <a href="#" class="nav-item">Chủ Đề</a>
            <a href="#" class="nav-item">Thể loại <i class="fas fa-caret-down text-[10px]"></i></a>
            <a href="#" class="nav-item">Phim Lẻ</a>
            <a href="#" class="nav-item">Phim Bộ</a>
            <a href="#" class="nav-item"><span class="badge-new">NEW</span> Xem Chung</a>
            <a href="#" class="nav-item">Quốc gia</a>
        </nav>
    </header>

    <section id="banner-section" class="relative h-[85vh] w-full pt-32 overflow-hidden">
        <div id="banner-bg" class="absolute inset-0 bg-cover bg-center transition-all duration-1000 scale-105 opacity-60"></div>
        <div class="absolute inset-0" style="background: linear-gradient(to top, var(--bg-dark) 5%, transparent 100%), linear-gradient(to right, rgba(0,0,0,0.8) 0%, transparent 60%);"></div>
        
        <div class="relative z-10 flex flex-col items-start justify-end h-full px-10 pb-20 max-w-4xl text-left">
            <h1 id="title" class="text-4xl md:text-6xl font-black mb-2 text-white drop-shadow-lg leading-tight uppercase italic">--</h1>
            <p id="sub" class="text-yellow-500 text-lg font-bold mb-4 italic">--</p>
            
            <div id="info-badges" class="flex flex-wrap gap-2 mb-4"></div>
            <div id="genres" class="flex flex-wrap gap-2 mb-6"></div>
            <p id="desc" class="text-gray-300 text-sm md:text-base mb-8 line-clamp-3 max-w-2xl leading-relaxed">--</p>
            
            <div class="flex flex-col gap-6">
                <div class="flex items-center gap-4">
                    <button onclick="playCurrent()" class="bg-yellow-500 text-black px-10 py-3 rounded-full font-black hover:scale-110 transition shadow-lg flex items-center gap-2">
                        <i class="fas fa-play"></i> XEM NGAY
                    </button>
                    <button class="w-12 h-12 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center hover:bg-white/20 transition">
                        <i class="far fa-heart text-white"></i>
                    </button>
                    <button class="w-12 h-12 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center hover:bg-white/20 transition">
                        <i class="fas fa-exclamation-circle text-white"></i>
                    </button>
                </div>
                
                <div id="banner-thumbs" class="flex gap-3"></div>
            </div>
        </div>
    </section>

    <section class="px-6 py-10">
        <h2 class="text-lg font-bold text-white mb-6 uppercase tracking-tight">Bạn đang quan tâm gì?</h2>
        <div class="flex overflow-x-auto gap-4 pb-4" style="scrollbar-width: none;">
            <div class="topic-card bg-blue-600"><span class="font-black italic text-lg">Marvel</span><span class="text-[10px] uppercase font-bold">Xem chủ đề <i class="fas fa-chevron-right"></i></span></div>
            <div class="topic-card bg-teal-600"><span class="font-black italic text-lg">Sitcom</span><span class="text-[10px] uppercase font-bold">Xem chủ đề <i class="fas fa-chevron-right"></i></span></div>
            <div class="topic-card bg-purple-600"><span class="font-black italic text-lg leading-tight">Lồng Tiếng<br>Cực Mạnh</span><span class="text-[10px] uppercase font-bold">Xem chủ đề <i class="fas fa-chevron-right"></i></span></div>
            <div class="topic-card bg-orange-600"><span class="font-black italic text-lg">Xuyên Không</span><span class="text-[10px] uppercase font-bold">Xem chủ đề <i class="fas fa-chevron-right"></i></span></div>
            <div class="topic-card bg-red-700"><span class="font-black italic text-lg">Cổ Trang</span><span class="text-[10px] uppercase font-bold">Xem chủ đề <i class="fas fa-chevron-right"></i></span></div>
            <div class="topic-card bg-indigo-700"><span class="font-black italic text-lg">4k</span><span class="text-[10px] uppercase font-bold">Xem chủ đề <i class="fas fa-chevron-right"></i></span></div>
            <div class="topic-card bg-gray-800 border border-gray-700 flex items-center justify-center"><span class="font-black uppercase">+1 chủ đề</span></div>
        </div>
    </section>

    <main class="px-6 pb-20">
        <h2 class="text-xl font-extrabold italic uppercase mb-8 border-l-4 border-red-600 pl-4">Phim Mới Cập Nhật</h2>
        <div id="movie-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-6"></div>
    </main>

    <footer class="footer">
        <div class="max-w-7xl mx-auto">
            <div class="footer-tag">★ Hoàng Sa & Trường Sa là của Việt Nam!</div>
            <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-9 bg-[#d4a017] rounded-b-xl flex items-center justify-center"><i class="fas fa-play text-black"></i></div>
                <div class="flex flex-col leading-none border-r border-gray-700 pr-4">
                    <span class="text-2xl font-black text-white uppercase">XÔ PHIM</span>
                    <span class="text-[10px] text-gray-400 font-bold">YIXIU VIETNAM</span>
                </div>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-telegram-plane"></i></a>
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
            <p class="text-xs text-gray-500 leading-relaxed max-w-2xl">XôPhim - Trải nghiệm điện ảnh 4K tốt nhất 2026.</p>
            <p class="text-[10px] text-gray-600 mt-6 uppercase font-bold italic">© 2026 XôPhim - Đức Anh Đẹp Trai</p>
        </div>
        <div class="btn-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})"><i class="fas fa-arrow-up block mb-1"></i> ĐẦU<br>TRANG</div>
    </footer>

    <div id="player-overlay" class="fixed inset-0 z-[200] hidden bg-black flex flex-col">
        <div class="p-4 flex justify-between items-center bg-[#1a1a20]">
            <button onclick="closePlayer()" class="text-white text-xl hover:text-red-500 transition"><i class="fas fa-times"></i></button>
            <h2 id="player-title" class="font-bold text-xs text-gray-400 uppercase tracking-widest">Đang phát</h2>
            <div class="w-6"></div>
        </div>
        <iframe id="main-iframe" class="flex-1 w-full" frameborder="0" allowfullscreen></iframe>
    </div>

    <script>
        const movies = [
            const movies = [
            {
    id: 18,
    title: "Mưa Đỏ",
    sub: "Red Rain",
    year: "2026",
    rating: "8.2",
    status: "YouTube",
    desc: "Một tác phẩm mang đầy màu sắc nghệ thuật và kịch tính. Câu chuyện đưa người xem vào một không gian huyền bí, nơi những cơn mưa đỏ mang theo những bí mật và thay đổi định mệnh của những con người trong cuộc.",
    img: "https://mir-s3-cdn-cf.behance.net/project_modules/1400_webp/0b1372232709307.68a20d789415d.jpg",
    episodes: [{ name: "Full", link: "https://www.youtube.com/embed/9Ymlum6nHq4" }]
},
            {
    id: 17,
    title: "Quang Phổ",
    sub: "Spectral",
    year: "2026",
    rating: "7.3",
    status: "Bản Đẹp",
    desc: "Một đội đặc nhiệm tinh nhuệ được cử đi thực hiện nhiệm vụ tại một thành phố đang bị tàn phá bởi những sinh vật vô hình bí ẩn. Chúng không thể bị tiêu diệt bởi vũ khí thông thường, buộc cả đội phải sử dụng những thiết bị quang phổ tối tân để sống sót.",
    img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20260116-1/5b1f85f0fbcc96ca4bad610602025626.jpg",
    episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260116/KvfgltMI/index.m3u8" }]
},
            {
    id: 16,
    title: "Trò Chơi Kẻ Thao Túng",
    sub: "My Sister's Bones",
    year: "2026",
    rating: "7.6",
    status: "Phim Mới",
    desc: "Sau cái chết đột ngột của cha, hai chị em bị lôi kéo vào một trò chơi tâm lý đầy nguy hiểm. Những bí mật đen tối trong quá khứ dần lộ diện, khiến họ phải đặt nghi vấn về sự thật và lòng tin dành cho chính người thân của mình.",
    img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20260202-1/90b04eb17f3d2b9b3afa7e90aac58e41.jpg",
    episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260202/T8OE34Fr/index.m3u8" }]
},
            {
    id: 15,
    title: "The Rig",
    sub: "The Rig",
    year: "2023",
    rating: "6.8",
    status: "Tập 06/06",
    desc: "Khi một màn sương mù bí ẩn bao vây giàn khoan dầu Kinloch Bravo ở Biển Bắc, đoàn thủy thủ mất hoàn toàn liên lạc với thế giới bên ngoài. Những hiện tượng kỳ lạ bắt đầu xảy ra, đẩy mọi người vào một cuộc chiến sinh tồn đầy kinh hãi trước một thế lực cổ xưa.",
    img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20240305-1/af45b3557bc21dcdf87fbbf29423b3aa.jpg",
    episodes: [
        { name: "Tập 01", link: "https://player.phimapi.com/player/?url=https://s2.phim1280.tv/20240311/EefofkOB/index.m3u8" },
        { name: "Tập 02", link: "https://player.phimapi.com/player/?url=https://s2.phim1280.tv/20240311/3FSWdwUS/index.m3u8" },
        { name: "Tập 03", link: "https://player.phimapi.com/player/?url=https://s2.phim1280.tv/20240311/mkZfY0IZ/index.m3u8" },
        { name: "Tập 04", link: "https://player.phimapi.com/player/?url=https://s2.phim1280.tv/20240311/utb4mRZc/index.m3u8" },
        { name: "Tập 05", link: "https://player.phimapi.com/player/?url=https://s2.phim1280.tv/20240311/h9kLC9gD/index.m3u8" },
        { name: "Tập 06", link: "https://player.phimapi.com/player/?url=https://s2.phim1280.tv/20240311/DSFUnB7s/index.m3u8" }
    ]
},
            {
    id: 14,
    title: "Mật Vụ Phụ Hồ",
    sub: "A Working Man",
    year: "2025",
    rating: "7.8",
    status: "Hành Động",
    desc: "Câu chuyện xoay quanh một người đàn ông làm nghề phụ hồ bình dị nhưng ẩn sau đó là một quá khứ bí ẩn của một mật vụ tài ba. Khi những người thân yêu bị đe dọa, anh buộc phải phô diễn những kỹ năng sát thủ của mình để thực thi công lý.",
    img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20250406-1/7c28ab6d499bc41ee5ba9e33f265a7cc.jpg",
    episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s5.phim1280.tv/20250509/o66izJ5l/index.m3u8" }]
},
            {
    id: 13,
    title: "Siêu Anh Hùng Bloodshot",
    sub: "Bloodshot",
    year: "2020",
    rating: "7.0",
    status: "Bản Đẹp",
    desc: "Ray Garrison, một binh lính vừa tử trận, được hồi sinh bởi tập đoàn RST với công nghệ nano siêu việt trong máu, biến anh thành một siêu chiến binh có khả năng phục hồi tức thì. Tuy nhiên, khi ký ức dần trở lại, Ray nhận ra mình đang bị lợi dụng trong một âm mưu thâm độc.",
    img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20250905-1/e4c64f54f35cd50c496d12d580284dac.jpg",
    episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20250905/rnRuM8V1/index.m3u8" }]
},
            
            {
    id: 12,
    title: "Tiểu Yêu Quái Núi Lãng Lãng",
    sub: "Nobody",
    year: "2023",
    rating: "9.2",
    status: "Hoạt Hình",
    desc: "Một góc nhìn đầy mới mẻ và nhân văn về cuộc sống của một tiểu yêu quái bình thường tại Núi Lãng Lãng. Câu chuyện không chỉ là về hành trình của thầy trò Đường Tăng mà còn là lời tự sự sâu sắc về ước mơ và thực tại của những kẻ 'vô danh'.",
    img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20250907-1/4074dc1b02219548fd890c1a948dac70.jpg",
    episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251204/wM0RTCwd/index.m3u8" }]
},
            
            {
    id: 11,
    title: "Avatar: Lửa và Tro Tàn",
    sub: "Avatar: Fire and Ash",
    year: "2025",
    rating: "9.0",
    status: "Phim Chiếu Rạp",
    desc: "Phần thứ ba của siêu phẩm hành tinh Pandora, Jake Sully và Neytiri sẽ phải đối mặt với một bộ tộc Na'vi hung dữ hơn — Tộc Người Tro Tàn. Một cuộc hành trình vào những vùng đất núi lửa đầy nguy hiểm và những thử thách khắc nghiệt nhất từ trước đến nay.",
    img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20251221-1/687373bb9894616507f27c74c0eaa598.jpg",
    episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260120/H4h7Crrd/index.m3u8" }]
},
            {
    id: 10,
    title: "Avatar 2: Dòng Chảy Của Nước",
    sub: "Avatar: The Way of Water",
    year: "2022",
    rating: "8.0",
    status: "Bản Đẹp 4K",
    desc: "Jake Sully cùng gia đình mới của mình phải rời bỏ quê hương để tìm kiếm nơi trú ẩn tại các vùng biển xa xôi trên Pandora. Tại đây, họ phải học cách thích nghi với đại dương và đối mặt với sự trở lại của những kẻ thù cũ.",
    img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20250513-1/59fc5ffe0025ca40c99d48b070b59320.jpg",
    episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s5.phim1280.tv/20250513/XQBfOc33/index.m3u8" }]
},
            
            {
    id: 9,
    title: "Avatar 1",
    sub: "Avatar (2009)",
    year: "2009",
    rating: "7.9",
    status: "Siêu Kinh Điển",
    desc: "Trên hành tinh Pandora xinh đẹp nhưng đầy hiểm nguy, một cựu binh liệt nửa người tham gia vào một sứ mệnh thay thế đặc biệt. Anh dần bị cuốn vào cuộc chiến bảo vệ vùng đất thiêng liêng của tộc người Na'vi chống lại sự xâm lược của loài người.",
    img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20251224-1/a14e53706b8086d753874f16c0d232d3.jpg",
    episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251224/r2a4Q0Z4/index.m3u8" }]
},
            {
    id: 8,
    title: "Tên Trộm Dấu Yêu",
    sub: "To My Beloved Thief",
    year: "2026",
    rating: "8.5",
    status: "Tập 08/??",
    desc: "Một câu chuyện tình đầy kịch tính và lãng mạn giữa một tên trộm tài ba và mục tiêu của mình. Những phi vụ nghẹt thở xen lẫn những rung động không ngờ tới tạo nên một hành trình đầy cảm xúc.",
    img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20260105-1/0adea2e823ede3d6a2bca22d1f0ac286.jpg",
    episodes: [
        { name: "Tập 01", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260110/18klrYcR/index.m3u8" },
        { name: "Tập 02", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260110/4ZwV76bt/index.m3u8" },
        { name: "Tập 03", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260117/CGGmfRd9/index.m3u8" },
        { name: "Tập 04", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260117/eW1xbcRY/index.m3u8" },
        { name: "Tập 05", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260123/kgLjuYQR/index.m3u8" },
        { name: "Tập 06", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260123/X9N82oFg/index.m3u8" },
        { name: "Tập 07", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260201/T8deYm0f/index.m3u8" },
        { name: "Tập 08", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260201/FqfQaMnQ/index.m3u8" }
    ]
},
            
            {
    id: 7,
    title: "Quái Vật Đầm Lầy",
    sub: "The Bayou (Đức Sub)",
    year: "2026",
    rating: "7.2",
    status: "Phim Mới",
    desc: "Một sinh vật bí ẩn và khát máu trỗi dậy từ vùng đầm lầy sâu thẳm, đe dọa mạng sống của những người dân địa phương. Cuộc săn lùng bắt đầu trong bóng tối kinh hoàng của vùng nước đọng.",
    img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20250515-1/5787cec877bf6d532bfa6486468f914c.jpg",
    episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s5.phim1280.tv/20250515/82qFdZP8/index.m3u8" }]
},
            {
            id: 6,
            title: "Đảo Rắn Khổng Lồ",
            sub: "Island Python",
            year: "2026",
            rating: "7.5",
            status: "Phim Mới",
            desc: "Một nhóm thám hiểm vô tình lạc bước lên hòn đảo biệt lập, nơi ngự trị của những loài trăn khổng lồ khát máu. Cuộc chiến sinh tồn giữa con người và quái vật tự nhiên bắt đầu khi bí mật kinh hoàng của hòn đảo dần được hé lộ.",
            img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20250204-1/4a2bea191ffbdf6af6c67d1a42b82695.jpg",
            episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260206/3ywMSHEu/index.m3u8" }]
        },
            {
            
                id: 5,
                title: "Cậu Bé Mồ Côi",
                sub: "Oliver Twist",
                year: "2005",
                rating: "6.8",
                status: "Full HD",
                desc: "Câu chuyện về cuộc đời đầy gian truân của cậu bé mồ côi Oliver Twist giữa lòng London khắc nghiệt. Một hành trình tìm kiếm gia đình và sự lương thiện giữa những cạm bẫy của thế giới ngầm.",
                img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20231101-1/6cbd98d6056b8ee79cdb701f9836e017.jpg",
                episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s2.phim1280.tv/20231103/fUhNyikd/index.m3u8" }]
            },
            {
                id: 4,
            title: "Cậu Bé Mất Tích",
            sub: "Stranger Things (Full Season 1-5)",
            year: "2016-2026",
            rating: "8.7",
            status: "Trọn bộ 5 phần",
            desc: "Khi một cậu bé mất tích, một thị trấn nhỏ phát hiện ra một bí ẩn liên quan đến các cuộc thí nghiệm bí mật, các lực lượng siêu nhiên đáng sợ và một cô bé kỳ lạ có khả năng thấu thị.",
            img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20251127-1/4e76c982472d25b28d2b8b0a177f79d7.jpg",
            episodes: [
                { name: "P1-T1", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/eMrQhses/index.m3u8" },
                { name: "P1-T2", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/yAIeQK28/index.m3u8" },
                { name: "P1-T3", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/bMLS6ssd/index.m3u8" },
                { name: "P1-T4", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/9GOe0ERm/index.m3u8" },
                { name: "P1-T5", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/dt44QZBb/index.m3u8" },
                { name: "P1-T6", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/rJDxkKag/index.m3u8" },
                { name: "P1-T7", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/GHYwItQu/index.m3u8" },
                { name: "P1-T8", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/T9dfPeqG/index.m3u8" },
                { name: "P2-T1", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/VpgRLCmQ/index.m3u8" },
                { name: "P2-T2", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/i4PjdUKJ/index.m3u8" },
                { name: "P2-T3", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/im9N0WA8/index.m3u8" },
                { name: "P2-T4", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/97X0NbJ9/index.m3u8" },
                { name: "P2-T5", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/hD5hYx5P/index.m3u8" },
                { name: "P2-T6", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/MUqTKn3z/index.m3u8" },
                { name: "P2-T7", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/devEf5D4/index.m3u8" },
                { name: "P2-T8", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/PyYxRkFF/index.m3u8" },
                { name: "P2-T9", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/QfegEzof/index.m3u8" },
                { name: "P3-T1", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/0VT1ek7V/index.m3u8" },
                { name: "P3-T2", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/4ALbRK0U/index.m3u8" },
                { name: "P3-T3", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/hCnt5Db7/index.m3u8" },
                { name: "P3-T4", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/R22LSZ4q/index.m3u8" },
                { name: "P3-T5", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/iB3IqIsM/index.m3u8" },
                { name: "P3-T6", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/K3fOBZ4T/index.m3u8" },
                { name: "P3-T7", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/q5z1E9jN/index.m3u8" },
                { name: "P3-T8", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/ZwVz0i1P/index.m3u8" },
                { name: "P4-T1", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/xlXYIN4h/index.m3u8" },
                { name: "P4-T2", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/DmcR4Ifa/index.m3u8" },
                { name: "P4-T3", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/s8HrgFqu/index.m3u8" },
                { name: "P4-T4", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/CnoWNGQP/index.m3u8" },
                { name: "P4-T5", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/2Z4dBijs/index.m3u8" },
                { name: "P4-T6", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/74OVKIPn/index.m3u8" },
                { name: "P4-T7", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/pHLmU9j0/index.m3u8" },
                { name: "P4-T8", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/bN2uJOQG/index.m3u8" },
                { name: "P4-T9", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/wlTpiDT6/index.m3u8" },
                { name: "P5-T1", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/VdVcTjll/index.m3u8" },
                { name: "P5-T2", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/Xaex73oM/index.m3u8" },
                { name: "P5-T3", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/phZU5qEk/index.m3u8" },
                { name: "P5-T4", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/JudV0Ni1/index.m3u8" },
                { name: "P5-T5", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251226/AFjYGQ1K/index.m3u8" },
                { name: "P5-T6", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251226/TPpFJBKF/index.m3u8" },
                { name: "P5-T7", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251226/oxQZbDQo/index.m3u8" },
                { name: "P5-T8", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260101/YyOnJ03e/index.m3u8" }
            ]
            },
            {
                id: 3,
                title: "Hố Đen Tử Thần",
                sub: "Interstellar",
                year: "2014",
                rating: "8.7",
                status: "Full HD",
                desc: "Trong tương lai, khi Trái Đất bị tàn phá bởi hạn hán và biến đổi khí hậu, một nhóm các nhà du hành vũ trụ đi xuyên qua một hố đen để tìm kiếm một hành tinh mới có thể duy trì sự sống cho nhân loại.",
                img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20250302-1/4cee31c3afd0fbfd11ed4f14b1bfd816.jpg",
                episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s4.phim1280.tv/20250302/BLbAWQOK/index.m3u8" }]
            },
            {
                id: 2,
        title: "Bóng Ma Anh Quốc",
        sub: "Peaky Blinders (Season 1-5)",
        year: "2013 - 2024",
        rating: "8.8",
        status: "Trọn bộ 5 phần",
        desc: "Một băng đảng tội phạm khét tiếng ở Birmingham, Anh, vào năm 1919, được dẫn dắt bởi Tommy Shelby hung bạo và mưu mô. Hành trình vươn lên từ thế giới ngầm đến đỉnh cao quyền lực.",
        img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20240730-1/b37769fcc6142d1e116b6486f6b7132b.jpg",
        episodes: [
            /* Phần 1 */
            { name: "P1-T01", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/911phIUY/index.m3u8" },
            { name: "P1-T02", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/fWRCpaKk/index.m3u8" },
            { name: "P1-T03", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/KN724ide/index.m3u8" },
            { name: "P1-T04", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/3ouNqS4T/index.m3u8" },
            { name: "P1-T05", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/ME0BG0Qz/index.m3u8" },
            { name: "P1-T06", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/u2Kjk583/index.m3u8" },
            /* Phần 2 */
            { name: "P2-T01", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/Akw2Rs0h/index.m3u8" },
            { name: "P2-T02", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/WtxbgPMG/index.m3u8" },
            { name: "P2-T03", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/26UFHU0C/index.m3u8" },
            { name: "P2-T04", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/UWVu3JpA/index.m3u8" },
            { name: "P2-T05", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/Kv44OJkw/index.m3u8" },
            { name: "P2-T06", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/jufAaMzV/index.m3u8" },
            /* Phần 3 */
            { name: "P3-T01", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/Xemam0Ch/index.m3u8" },
            { name: "P3-T02", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/Jmy7hA1H/index.m3u8" },
            { name: "P3-T03", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/VbP8cggh/index.m3u8" },
            { name: "P3-T04", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/pNTexKMh/index.m3u8" },
            { name: "P3-T05", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/jBefsXbo/index.m3u8" },
            { name: "P3-T06", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/aHAfCbh7/index.m3u8" },
            /* Phần 4 */
            { name: "P4-T01", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/2S1luE5b/index.m3u8" },
            { name: "P4-T02", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/Gcve5jbA/index.m3u8" },
            { name: "P4-T03", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/wHcGbWcO/index.m3u8" },
            { name: "P4-T04", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/iU1x75YH/index.m3u8" },
            { name: "P4-T05", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/lvePnhlm/index.m3u8" },
            { name: "P4-T06", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/WueLS0gI/index.m3u8" },
            /* Phần 5 */
            { name: "P5-T01", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/vZyyZfnD/index.m3u8" },
            { name: "P5-T02", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/0XSUWTYN/index.m3u8" },
            { name: "P5-T03", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/6agWb8yt/index.m3u8" },
            { name: "P5-T04", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/ZM7oDPjW/index.m3u8" },
            { name: "P5-T05", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/fTytOcap/index.m3u8" },
            { name: "P5-T06", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/av5MnBdn/index.m3u8" }
        ]
            },
            {
                id: 1,
                title: "Sói Già Phố Wall",
                sub: "The Wolf of Wall Street",
                year: "2013",
                rating: "8.2",
                status: "Phim Lẻ",
                desc: "Dựa trên câu chuyện có thật của Jordan Belfort, từ bước thăng tiến của ông trở thành một nhà môi giới chứng khoán giàu có.",
                img: "https://phimimg.com/upload/vod/20231018-1/2e6fd68d5e7002fcc9fa6b8453242a8a.jpg",
                episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s2.phim1280.tv/20231019/KZ3IDVB4/index.m3u8" }]
            }
        ];

        // --- CÀI ĐẶT THỜI GIAN ---
        let cur = 0;
        let bannerInterval;
        let interactionTimeout;
        let isHovered = false;
        const AUTO_TIME = 3000; // 3 giây tự động đổi
        const WAIT_TIME = 6000; // 6 giây dừng khi chọn phim

        function closeAlertWithEffect() {
            document.getElementById('alertBox').classList.add('closing');
            setTimeout(() => { document.getElementById('tet-alert').style.display = 'none'; }, 500);
        }

        function updateBanner(index) {
            if (index !== undefined) cur = index;
            const m = movies[cur];
            const bg = document.getElementById('banner-bg');
            if(!bg) return;

            bg.style.opacity = 0;
            setTimeout(() => {
                bg.style.backgroundImage = `url('${m.img}')`;
                document.getElementById('title').innerText = m.title;
                document.getElementById('sub').innerText = m.sub;
                document.getElementById('desc').innerText = m.desc;

                document.getElementById('info-badges').innerHTML = `
                    <span class="bg-yellow-600 text-black px-2 py-0.5 rounded text-xs font-bold uppercase tracking-tighter">IMDb ${m.imdb}</span>
                    <span class="border border-gray-500 px-2 py-0.5 rounded text-xs text-white font-medium">${m.year}</span>
                    <span class="border border-gray-500 px-2 py-0.5 rounded text-xs text-white font-medium">${m.season}</span>
                    <span class="border border-gray-500 px-2 py-0.5 rounded text-xs text-white font-medium">${m.episode}</span>
                `;

                document.getElementById('genres').innerHTML = m.genres.map(g => `
                    <span class="bg-white/10 px-3 py-1 rounded text-[11px] text-gray-200 uppercase font-semibold border border-white/5">${g}</span>
                `).join('');

                // Cập nhật thumbnail active
                document.querySelectorAll('.thumb-item').forEach((item, idx) => {
                    idx === cur ? item.classList.add('active') : item.classList.remove('active');
                });

                bg.style.opacity = 0.6;
            }, 400);
        }

        function nextBanner() {
            if (isHovered) return;
            cur = (cur + 1) % movies.length;
            updateBanner();
        }

        function startBannerCycle() {
            clearInterval(bannerInterval);
            bannerInterval = setInterval(nextBanner, AUTO_TIME);
        }

        function handleUserChoice(index) {
            isHovered = true; 
            clearInterval(bannerInterval);
            clearTimeout(interactionTimeout);
            
            if (index !== undefined) updateBanner(index);

            interactionTimeout = setTimeout(() => {
                isHovered = false;
                startBannerCycle();
            }, WAIT_TIME);
        }

        function init() {
            const grid = document.getElementById('movie-grid');
            const thumbBox = document.getElementById('banner-thumbs');
            grid.innerHTML = "";
            thumbBox.innerHTML = "";

            movies.forEach((m, i) => {
                grid.innerHTML += `
                    <div class="cursor-pointer group" onclick="playMovie(${i})">
                        <div class="relative aspect-[2/3] rounded-xl overflow-hidden shadow-2xl bg-gray-900">
                            <img src="${m.img}" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                            <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center">
                                <i class="fas fa-play text-yellow-500 text-2xl"></i>
                            </div>
                        </div>
                        <h3 class="mt-3 font-bold text-xs truncate text-gray-300 group-hover:text-yellow-500 transition">${m.title}</h3>
                    </div>
                `;
                thumbBox.innerHTML += `
                    <div class="thumb-item" onclick="handleUserChoice(${i})">
                        <img src="${m.img}" class="w-full h-full object-cover">
                    </div>
                `;
            });

            updateBanner(0);
            startBannerCycle();

            const bannerEl = document.getElementById('banner-section');
            bannerEl.addEventListener('mouseenter', () => {
                isHovered = true;
                clearInterval(bannerInterval);
            });
            bannerEl.addEventListener('mouseleave', () => {
                handleUserChoice(); // Kích hoạt lại bộ đếm chờ 6s
            });
        }

        function playMovie(i) {
            document.getElementById('player-title').innerText = movies[i].title;
            document.getElementById('main-iframe').src = movies[i].episodes[0].link;
            document.getElementById('player-overlay').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closePlayer() { 
            document.getElementById('player-overlay').classList.add('hidden'); 
            document.getElementById('main-iframe').src = ""; 
            document.body.style.overflow = 'auto';
        }

        function playCurrent() { playMovie(cur); }

        // Hoa đào
        setInterval(() => {
            const s = document.createElement('div'); s.className = 'sakura';
            s.style.left = Math.random() * 100 + 'vw';
            s.style.width = s.style.height = Math.random() * 5 + 3 + 'px';
            s.style.animationDuration = Math.random() * 3 + 5 + 's';
            document.body.appendChild(s);
            setTimeout(() => s.remove(), 7000);
        }, 600);

        // Pháo hoa
        const canvas = document.getElementById('fw-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor(x, y, color) {
                this.x = x; this.y = y; this.color = color;
                this.velocity = { x: (Math.random() - 0.5) * 8, y: (Math.random() - 0.5) * 8 };
                this.alpha = 1; this.friction = 0.95;
            }
            draw() {
                ctx.globalAlpha = this.alpha; ctx.beginPath();
                ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
                ctx.fillStyle = this.color; ctx.fill();
            }
            update() {
                this.velocity.x *= this.friction; this.velocity.y *= this.friction;
                this.y += 0.1; this.x += this.velocity.x; this.y += this.velocity.y;
                this.alpha -= 0.01;
            }
        }

        function createFirework() {
            const x = Math.random() * canvas.width;
            const y = Math.random() * (canvas.height * 0.5);
            const color = `hsl(${Math.random() * 360}, 100%, 60%)`;
            for (let i = 0; i < 30; i++) { particles.push(new Particle(x, y, color)); }
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach((p, i) => {
                if (p.alpha <= 0) particles.splice(i, 1);
                else { p.update(); p.draw(); }
            });
            if (Math.random() < 0.03) createFirework();
            requestAnimationFrame(animate);
        }
        animate();

        init();
    </script>
</body>
</html>
