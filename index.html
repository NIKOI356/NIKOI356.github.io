<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xô Phim - Phim hay cả rổ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #1a1a20; color: white; font-family: sans-serif; overflow-x: hidden; }
        .banner-gradient { background: linear-gradient(to top, #1a1a20 5%, rgba(26,26,32,0.6) 40%, rgba(26,26,32,0.2) 100%); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        .thumb-circle { width: 45px; height: 45px; border-radius: 50%; border: 2px solid transparent; opacity: 0.5; overflow: hidden; transition: 0.4s; cursor: pointer; flex-shrink: 0; }
        .thumb-active { border-color: #fff; opacity: 1; transform: scale(1.1); box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        
        .tag { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 2px 10px; border-radius: 4px; font-size: 11px; }
        
        .movie-card { transition: transform 0.3s ease; }
        .movie-card:hover { transform: translateY(-8px); }
        
        /* Category Card Styles */
        .category-card { transition: all 0.3s ease; min-width: 170px; aspect-ratio: 16/10; border-radius: 16px; position: relative; overflow: hidden; }
        .category-card:hover { transform: translateY(-5px); filter: brightness(1.1); }
        
        .bg-marvel { background: linear-gradient(135deg, #2b58e1 0%, #4e73df 100%); }
        .bg-sitcom { background: linear-gradient(135deg, #1d8a61 0%, #2bb673 100%); }
        .bg-longtieng { background: linear-gradient(135deg, #7158bc 0%, #9060db 100%); }
        .bg-xuyenkhong { background: linear-gradient(135deg, #cc815c 0%, #e6a07e 100%); }
        .bg-cotrang { background: linear-gradient(135deg, #a53636 0%, #c04848 100%); }
        .bg-4k { background: linear-gradient(135deg, #5b5e93 0%, #7679ad 100%); }
        .bg-more { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); }

        .animate-fade { animation: fade 0.8s ease-in-out; }
        @keyframes fade { from { opacity: 0.4; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        #movie-overlay { background: rgba(10, 10, 12, 0.98); backdrop-filter: blur(20px); }
        .ep-btn.active { background-color: #eab308; color: black; border-color: #eab308; }
    </style>
</head>
<body>

    <header class="fixed w-full z-50 flex items-center justify-between px-6 py-4 bg-transparent transition-all" id="header">
        <div class="flex items-center gap-2 cursor-pointer" onclick="location.reload()">
            <div class="bg-yellow-500 rounded-full p-1.5 shadow-lg shadow-yellow-500/20"><i class="fas fa-play text-black text-[10px]"></i></div>
            <span class="text-xl font-black tracking-tight uppercase">Xô Phim</span>
        </div>
        <div class="flex items-center gap-6">
            <div class="hidden md:flex gap-6 text-sm font-bold opacity-80 uppercase tracking-tighter">
                <a href="#" class="hover:text-yellow-500">Phim Lẻ</a>
                <a href="#" class="hover:text-yellow-500">Phim Bộ</a>
                <a href="#" class="hover:text-yellow-500">Quốc gia</a>
            </div>
            <i class="fas fa-search text-lg cursor-pointer hover:text-yellow-500"></i>
        </div>
    </header>

    <section class="relative h-[90vh] w-full overflow-hidden" id="hero-section">
        <div id="banner-bg" class="absolute inset-0 bg-cover bg-center transition-all duration-1000 scale-100"></div>
        <div class="absolute inset-0 banner-gradient"></div>

        <div class="relative z-10 flex flex-col items-center justify-end h-full px-6 pb-20 text-center">
            <div id="movie-info-content" class="animate-fade max-w-3xl">
                <h1 id="movie-title" class="text-4xl md:text-6xl font-bold mb-2 drop-shadow-2xl italic uppercase">--</h1>
                <p id="movie-sub" class="text-yellow-500 text-lg mb-4 font-medium italic opacity-90 tracking-wide">--</p>
                
                <div class="flex flex-wrap justify-center gap-2 mb-6">
                    <span class="tag bg-yellow-500 text-black font-bold border-none" id="movie-rating">IMDb --</span>
                    <span id="movie-year" class="tag">--</span>
                    <span id="movie-status" class="tag">--</span>
                    <span class="tag">HD</span>
                </div>

                <p id="movie-desc" class="text-gray-300 text-sm md:text-base mb-10 line-clamp-2 md:line-clamp-3 opacity-80 leading-relaxed px-4 md:px-20">--</p>

                <div class="flex gap-4 justify-center mb-12">
                    <button onclick="openPlayer(currentIndex)" class="bg-yellow-500 text-black px-12 py-3.5 rounded-full font-black text-sm hover:scale-105 active:scale-95 transition shadow-xl shadow-yellow-500/30">
                        XEM NGAY
                    </button>
                    <button class="bg-white/10 backdrop-blur-md text-white px-6 py-3.5 rounded-full font-bold text-sm hover:bg-white/20 transition">
                        <i class="far fa-heart mr-2"></i>Lưu
                    </button>
                </div>
            </div>

            <div id="thumb-container" class="flex gap-4 overflow-x-auto no-scrollbar max-w-full px-4 items-center"></div>
        </div>
    </section>

    <section class="relative z-20 px-6 md:px-12 -mt-10 mb-12">
        <h2 class="text-xl font-bold mb-6 italic tracking-tight uppercase">Bạn đang quan tâm gì?</h2>
        <div class="flex gap-4 overflow-x-auto no-scrollbar pb-4">
            
            <div class="category-card p-5 flex flex-col justify-end bg-marvel cursor-pointer">
                <span class="text-xl font-black mb-1">Marvel</span>
                <span class="text-[10px] font-bold opacity-80 uppercase">Xem chủ đề <i class="fas fa-chevron-right ml-1"></i></span>
            </div>

            <div class="category-card p-5 flex flex-col justify-end bg-sitcom cursor-pointer">
                <span class="text-xl font-black mb-1">Sitcom</span>
                <span class="text-[10px] font-bold opacity-80 uppercase">Xem chủ đề <i class="fas fa-chevron-right ml-1"></i></span>
            </div>

            <div class="category-card p-5 flex flex-col justify-end bg-longtieng cursor-pointer">
                <span class="text-lg font-black leading-tight mb-1">Lồng Tiếng<br>Cực Mạnh</span>
                <span class="text-[10px] font-bold opacity-80 uppercase">Xem chủ đề <i class="fas fa-chevron-right ml-1"></i></span>
            </div>

            <div class="category-card p-5 flex flex-col justify-end bg-xuyenkhong cursor-pointer">
                <span class="text-xl font-black mb-1">Xuyên Không</span>
                <span class="text-[10px] font-bold opacity-80 uppercase">Xem chủ đề <i class="fas fa-chevron-right ml-1"></i></span>
            </div>

            <div class="category-card p-5 flex flex-col justify-end bg-cotrang cursor-pointer">
                <span class="text-xl font-black mb-1">Cổ Trang</span>
                <span class="text-[10px] font-bold opacity-80 uppercase">Xem chủ đề <i class="fas fa-chevron-right ml-1"></i></span>
            </div>

            <div class="category-card p-5 flex flex-col justify-end bg-4k cursor-pointer">
                <span class="text-xl font-black mb-1">4k</span>
                <span class="text-[10px] font-bold opacity-80 uppercase">Xem chủ đề <i class="fas fa-chevron-right ml-1"></i></span>
            </div>

            <div class="category-card p-5 flex flex-col justify-center items-center bg-more cursor-pointer">
                <span class="text-lg font-black text-center">+1 chủ đề</span>
            </div>
            
        </div>
    </section>

    <section class="px-6 md:px-12 mb-20">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-bold italic uppercase tracking-tight">Cập nhật phim mới</h2>
            <a href="#" class="text-xs font-bold text-gray-500 hover:text-white transition">XEM TOÀN BỘ <i class="fas fa-chevron-right ml-1"></i></a>
        </div>
        <div id="movie-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-5"></div>
    </section>

    <footer class="bg-[#121217] text-gray-400 py-12 px-6 md:px-12 border-t border-white/5">
        <div class="max-w-7xl mx-auto">
            <div class="mb-8">
                <span class="inline-flex items-center gap-2 bg-[#b91c1c] text-white text-[11px] font-black px-4 py-1.5 rounded-full shadow-lg shadow-red-900/40 tracking-wide uppercase">
                    <i class="fas fa-exclamation-triangle"></i>
                    CÓ QUẢNG CÁO CỜ BẠC, AE TRÁNH XA NHÉ !
                </span>
            </div>

            <div class="flex flex-col md:flex-row gap-10 justify-between items-start">
                <div class="max-w-2xl">
                    <div class="flex items-center gap-2 mb-4 text-white">
                        <div class="bg-yellow-500 rounded-full p-1.5"><i class="fas fa-play text-black text-[10px]"></i></div>
                        <span class="text-2xl font-black tracking-tight uppercase leading-none">Xô Phim</span>
                        <span class="text-xs font-medium opacity-40 ml-2 italic">Phim hay cả rổ</span>
                    </div>
                    
                    <p class="text-sm leading-relaxed mb-6 opacity-70">
                        <strong>Xô Phim</strong> - Trang xem phim online chất lượng cao miễn phí Vietsub, thuyết minh, lồng tiếng full HD. 
                        Kho phim mới khổng lồ, phim chiếu rạp, phim bộ, phim lẻ từ nhiều quốc gia như Việt Nam, Hàn Quốc, Trung Quốc, 
                        Thái Lan, Nhật Bản, Âu Mỹ… đa dạng thể loại. Khám phá nền tảng phim trực tuyến hay nhất 2024 chất lượng 4K!
                    </p>

                    <div class="flex gap-3 mb-8">
                        <a href="#" class="w-9 h-9 rounded-full bg-white/5 flex items-center justify-center hover:bg-yellow-500 hover:text-black transition duration-300"><i class="fab fa-telegram-plane"></i></a>
                        <a href="#" class="w-9 h-9 rounded-full bg-white/5 flex items-center justify-center hover:bg-yellow-500 hover:text-black transition duration-300"><i class="fab fa-discord"></i></a>
                        <a href="#" class="w-9 h-9 rounded-full bg-white/5 flex items-center justify-center hover:bg-yellow-500 hover:text-black transition duration-300"><i class="fab fa-x-twitter"></i></a>
                        <a href="#" class="w-9 h-9 rounded-full bg-white/5 flex items-center justify-center hover:bg-yellow-500 hover:text-black transition duration-300"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="w-9 h-9 rounded-full bg-white/5 flex items-center justify-center hover:bg-yellow-500 hover:text-black transition duration-300"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-x-12 gap-y-4 text-[11px] font-black uppercase tracking-widest">
                    <a href="#" class="hover:text-yellow-500 transition">Hỏi-Đáp</a>
                    <a href="#" class="hover:text-yellow-500 transition">Bảo mật</a>
                    <a href="#" class="hover:text-yellow-500 transition">Điều khoản</a>
                    <a href="#" class="hover:text-yellow-500 transition">Giới thiệu</a>
                    <a href="#" class="hover:text-yellow-500 transition">Liên hệ</a>
                </div>
            </div>

            <div class="mt-12 pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4 text-[10px] font-bold opacity-40">
                <p>© 2026 XÔ PHIM</p>
                <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="flex items-center gap-2 hover:text-white transition uppercase">
                    VỀ ĐẦU TRANG <i class="fas fa-chevron-up"></i>
                </button>
            </div>
        </div>
    </footer>

    <div id="movie-overlay" class="fixed inset-0 z-[100] hidden flex flex-col">
        <div class="flex items-center justify-between px-6 py-4">
            <div class="flex items-center gap-4">
                <button onclick="closePlayer()" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 transition">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div>
                    <h2 id="player-title" class="text-lg font-bold uppercase tracking-tight italic">--</h2>
                    <p id="player-ep-name" class="text-xs text-yellow-500 font-bold">Đang xem: Tập 01</p>
                </div>
            </div>
            <div class="flex gap-4">
                <span class="bg-red-600 text-[10px] font-black px-2 py-1 rounded">LIVE</span>
                <i class="fas fa-ellipsis-v cursor-pointer"></i>
            </div>
        </div>

        <div class="flex-1 flex flex-col lg:flex-row overflow-hidden">
            <div class="w-full lg:w-3/4 bg-black flex flex-col">
                <div class="relative w-full aspect-video bg-black shadow-2xl">
                    <iframe id="video-iframe" class="w-full h-full" src="" frameborder="0" allowfullscreen></iframe>
                </div>
                <div class="p-6 hidden md:block">
                    <div class="flex gap-6 mb-4">
                        <button class="text-sm font-bold border-b-2 border-yellow-500 pb-2">Tổng quan</button>
                        <button class="text-sm font-bold text-gray-500 pb-2">Diễn viên</button>
                        <button class="text-sm font-bold text-gray-500 pb-2">Bình luận</button>
                    </div>
                    <p id="player-desc" class="text-gray-400 text-sm leading-relaxed max-w-4xl">--</p>
                </div>
            </div>

            <div class="w-full lg:w-1/4 bg-[#1a1a20] border-l border-white/5 flex flex-col">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-black italic text-sm uppercase">Danh sách tập</h3>
                        <select class="bg-white/5 border border-white/10 text-[10px] rounded px-2 py-1 outline-none">
                            <option>Vietsub (VIP)</option>
                            <option>Thuyết minh</option>
                        </select>
                    </div>
                    <div id="episode-grid" class="grid grid-cols-4 lg:grid-cols-3 gap-2 overflow-y-auto max-h-[50vh] lg:max-h-none pr-2 custom-scrollbar"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Dữ liệu movies và các hàm logic giữ nguyên như bạn đã cung cấp
        const movies = [
            {
    id: 18,
    title: "Mưa Đỏ",
    sub: "Red Rain",
    year: "2026",
    rating: "8.2",
    status: "YouTube",
    desc: "Một tác phẩm mang đầy màu sắc nghệ thuật và kịch tính. Câu chuyện đưa người xem vào một không gian huyền bí, nơi những cơn mưa đỏ mang theo những bí mật và thay đổi định mệnh của những con người trong cuộc.",
    img: "https://mir-s3-cdn-cf.behance.net/project_modules/1400_webp/0b1372232709307.68a20d789415d.jpg",
    episodes: [{ name: "Full", link: "https://www.youtube.com/embed/9Ymlum6nHq4" }]
},
            {
                id: 3,
                title: "Hố Đen Tử Thần",
                sub: "Interstellar",
                year: "2014",
                rating: "8.7",
                status: "Full HD",
                desc: "Trong tương lai, khi Trái Đất bị tàn phá bởi hạn hán và biến đổi khí hậu, một nhóm các nhà du hành vũ trụ đi xuyên qua một hố đen để tìm kiếm một hành tinh mới có thể duy trì sự sống cho nhân loại.",
                img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20250302-1/4cee31c3afd0fbfd11ed4f14b1bfd816.jpg",
                episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s4.phim1280.tv/20250302/BLbAWQOK/index.m3u8" }]
            },
            {
                id: 2,
        title: "Bóng Ma Anh Quốc",
        sub: "Peaky Blinders (Season 1-5)",
        year: "2013 - 2024",
        rating: "8.8",
        status: "Trọn bộ 5 phần",
        desc: "Một băng đảng tội phạm khét tiếng ở Birmingham, Anh, vào năm 1919, được dẫn dắt bởi Tommy Shelby hung bạo và mưu mô. Hành trình vươn lên từ thế giới ngầm đến đỉnh cao quyền lực.",
        img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20240730-1/b37769fcc6142d1e116b6486f6b7132b.jpg",
        episodes: [
            /* Phần 1 */
            { name: "P1-T01", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/911phIUY/index.m3u8" },
            { name: "P1-T02", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/fWRCpaKk/index.m3u8" },
            { name: "P1-T03", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/KN724ide/index.m3u8" },
            { name: "P1-T04", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/3ouNqS4T/index.m3u8" },
            { name: "P1-T05", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/ME0BG0Qz/index.m3u8" },
            { name: "P1-T06", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/u2Kjk583/index.m3u8" },
            /* Phần 2 */
            { name: "P2-T01", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/Akw2Rs0h/index.m3u8" },
            { name: "P2-T02", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/WtxbgPMG/index.m3u8" },
            { name: "P2-T03", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/26UFHU0C/index.m3u8" },
            { name: "P2-T04", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/UWVu3JpA/index.m3u8" },
            { name: "P2-T05", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/Kv44OJkw/index.m3u8" },
            { name: "P2-T06", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/jufAaMzV/index.m3u8" },
            /* Phần 3 */
            { name: "P3-T01", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/Xemam0Ch/index.m3u8" },
            { name: "P3-T02", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/Jmy7hA1H/index.m3u8" },
            { name: "P3-T03", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/VbP8cggh/index.m3u8" },
            { name: "P3-T04", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/pNTexKMh/index.m3u8" },
            { name: "P3-T05", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/jBefsXbo/index.m3u8" },
            { name: "P3-T06", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/aHAfCbh7/index.m3u8" },
            /* Phần 4 */
            { name: "P4-T01", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/2S1luE5b/index.m3u8" },
            { name: "P4-T02", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/Gcve5jbA/index.m3u8" },
            { name: "P4-T03", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/wHcGbWcO/index.m3u8" },
            { name: "P4-T04", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/iU1x75YH/index.m3u8" },
            { name: "P4-T05", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/lvePnhlm/index.m3u8" },
            { name: "P4-T06", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/WueLS0gI/index.m3u8" },
            /* Phần 5 */
            { name: "P5-T01", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/vZyyZfnD/index.m3u8" },
            { name: "P5-T02", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/0XSUWTYN/index.m3u8" },
            { name: "P5-T03", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/6agWb8yt/index.m3u8" },
            { name: "P5-T04", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/ZM7oDPjW/index.m3u8" },
            { name: "P5-T05", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/fTytOcap/index.m3u8" },
            { name: "P5-T06", link: "https://player.phimapi.com/player/?url=https://s3.phim1280.tv/20240730/av5MnBdn/index.m3u8" }
        ]
            },
            {
                id: 1,
                title: "Sói Già Phố Wall",
                sub: "The Wolf of Wall Street",
                year: "2013",
                rating: "8.2",
                status: "Phim Lẻ",
                desc: "Dựa trên câu chuyện có thật của Jordan Belfort, từ bước thăng tiến của ông trở thành một nhà môi giới chứng khoán giàu có.",
                img: "https://phimimg.com/upload/vod/20231018-1/2e6fd68d5e7002fcc9fa6b8453242a8a.jpg",
                episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s2.phim1280.tv/20231019/KZ3IDVB4/index.m3u8" }]
            }
        ];

let currentIndex = 0;
        let slideInterval;

        function updateBanner() {
            const m = movies[currentIndex];
            const infoBox = document.getElementById('movie-info-content');
            
            infoBox.style.opacity = 0;
            setTimeout(() => {
                document.getElementById('banner-bg').style.backgroundImage = `url('${m.img}')`;
                document.getElementById('movie-title').innerText = m.title;
                document.getElementById('movie-sub').innerText = m.sub;
                document.getElementById('movie-year').innerText = m.year;
                document.getElementById('movie-rating').innerText = `IMDb ${m.rating}`;
                document.getElementById('movie-status').innerText = m.status;
                document.getElementById('movie-desc').innerText = m.desc;
                
                infoBox.style.opacity = 1;
                infoBox.classList.remove('animate-fade');
                void infoBox.offsetWidth;
                infoBox.classList.add('animate-fade');
            }, 300);

            document.querySelectorAll('.thumb-circle').forEach((t, i) => {
                t.classList.toggle('thumb-active', i === currentIndex);
            });
        }

        function openPlayer(movieIdx) {
            const movie = movies[movieIdx];
            const overlay = document.getElementById('movie-overlay');
            const epGrid = document.getElementById('episode-grid');
            
            document.getElementById('player-title').innerText = movie.title;
            document.getElementById('player-desc').innerText = movie.desc;
            
            epGrid.innerHTML = movie.episodes.map((ep, i) => `
                <button onclick="playEpisode('${ep.link}', '${ep.name}', this)" 
                        class="ep-btn border border-white/10 py-2 rounded text-[11px] font-bold hover:bg-yellow-500 hover:text-black transition ${i===0 ? 'active' : ''}">
                    ${ep.name}
                </button>
            `).join('');

            if(movie.episodes.length > 0) {
                playEpisode(movie.episodes[0].link, movie.episodes[0].name);
            }

            overlay.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function playEpisode(link, name, btnElement = null) {
            document.getElementById('video-iframe').src = link;
            document.getElementById('player-ep-name').innerText = `Đang xem: ${name}`;
            if(btnElement) {
                document.querySelectorAll('.ep-btn').forEach(b => b.classList.remove('active'));
                btnElement.classList.add('active');
            }
        }

        function closePlayer() {
            document.getElementById('movie-overlay').classList.add('hidden');
            document.getElementById('video-iframe').src = "";
            document.body.style.overflow = 'auto';
        }

        function renderMovieGrid() {
            document.getElementById('movie-grid').innerHTML = movies.map((m, i) => `
                <div class="movie-card group cursor-pointer" onclick="openPlayer(${i})">
                    <div class="relative aspect-[2/3] overflow-hidden rounded-xl bg-gray-800">
                        <img src="${m.img}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                        <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                            <div class="w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center text-black shadow-lg shadow-yellow-500/30 transform scale-50 group-hover:scale-100 transition-transform">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="absolute top-2 left-2">
                            <span class="bg-yellow-500 text-black text-[10px] font-black px-1.5 py-0.5 rounded italic">IMDb ${m.rating}</span>
                        </div>
                        <div class="absolute bottom-2 right-2">
                            <span class="bg-black/70 backdrop-blur-sm text-white text-[10px] px-2 py-1 rounded border border-white/10">${m.status}</span>
                        </div>
                    </div>
                    <div class="mt-3 px-1">
                        <h3 class="text-sm font-bold truncate group-hover:text-yellow-500 transition">${m.title}</h3>
                        <p class="text-[11px] text-gray-500 truncate italic">${m.sub}</p>
                    </div>
                </div>
            `).join('');
        }

        const thumbContainer = document.getElementById('thumb-container');
        movies.forEach((m, i) => {
            const t = document.createElement('div');
            t.className = `thumb-circle ${i === 0 ? 'thumb-active' : ''}`;
            t.innerHTML = `<img src="${m.img}" class="w-full h-full object-cover">`;
            t.onclick = () => { currentIndex = i; updateBanner(); startTimer(); };
            thumbContainer.appendChild(t);
        });

        window.addEventListener('scroll', () => {
            const header = document.getElementById('header');
            header.classList.toggle('bg-[#1a1a20]', window.scrollY > 100);
        });

        function startTimer() {
            clearInterval(slideInterval);
            slideInterval = setInterval(() => {
                currentIndex = (currentIndex + 1) % movies.length;
                updateBanner();
            }, 5000);
        }

        updateBanner();
        renderMovieGrid();
        startTimer();
    </script>
</body>
</html>
