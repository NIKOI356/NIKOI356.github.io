<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RoPhim - Tiểu Yêu Quái</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .banner-gradient {
            background: linear-gradient(to right, rgba(0,0,0,0.95) 25%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0) 100%);
        }
        /* Hiệu ứng mượt cho banner */
        #banner-bg { transition: background-image 0.8s ease-in-out; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="bg-[#0f0f0f] text-white font-sans overflow-x-hidden">

    <header class="flex items-center justify-between px-10 py-6 absolute w-full z-50">
        <div class="flex items-center gap-10">
            <div class="text-3xl font-black italic tracking-tighter flex items-center gap-2">
                <span class="text-yellow-500 text-4xl">●</span>RoPhim
            </div>
            <nav class="hidden lg:flex gap-8 text-sm font-medium uppercase tracking-widest text-gray-300">
                <a href="#" class="hover:text-yellow-500">Chủ Đề</a>
                <a href="#" class="hover:text-yellow-500">Thể Loại</a>
                <a href="#" class="hover:text-yellow-500">Phim Lẻ</a>
                <a href="#" class="hover:text-yellow-500">Phim Bộ</a>
                <a href="#" class="text-yellow-500">NEW Xem Chung</a>
            </nav>
        </div>
        <div class="flex items-center gap-6">
            <div class="relative group">
                <input type="text" placeholder="Tìm kiếm phim..." class="bg-[#1a1a1a] border border-gray-800 rounded-full py-2 px-10 text-sm focus:ring-2 focus:ring-yellow-500 outline-none w-72 transition-all">
                <i class="fas fa-search absolute left-4 top-3 text-gray-500"></i>
            </div>
            <button class="bg-white text-black px-6 py-2 rounded-full text-sm font-bold hover:bg-yellow-500 transition shadow-lg">Thành viên</button>
        </div>
    </header>

    <section id="banner-section" class="relative h-[90vh] w-full overflow-hidden">
        <div id="banner-bg" class="absolute inset-0 bg-cover bg-center scale-100 transition-transform duration-[5000ms]" 
             style="background-image: url('https://image.tmdb.org/t/p/original/uD79093nF5VlXm4T9uL4rW7E2A8.jpg');"></div>
        <div class="absolute inset-0 banner-gradient"></div>

        <div class="relative z-10 flex flex-col justify-center h-full px-16 max-w-4xl space-y-6 fade-in">
            <h1 id="movie-title" class="text-6xl font-extrabold leading-tight">Tiểu Yêu Quái Núi Lãng Lãng</h1>
            
            <div class="flex gap-3 items-center">
                <span class="bg-yellow-500 text-black px-3 py-1 rounded-md text-xs font-black">IMDB 9.0</span>
                <span id="movie-year" class="bg-white/10 backdrop-blur-md px-3 py-1 rounded-md text-xs">2025</span>
                <span id="movie-info" class="bg-white/10 backdrop-blur-md px-3 py-1 rounded-md text-xs font-bold text-yellow-500">Phần 1 - Tập 1</span>
            </div>

            <p id="movie-desc" class="text-gray-400 text-lg leading-relaxed max-w-2xl line-clamp-3">
                Câu chuyện kể về cuộc sống của một chú heo nhỏ ở Núi Lãng Lãng, một góc nhìn mới lạ và đầy cảm xúc về thế giới yêu quái, sự nỗ lực và những giấc mơ giản đơn.
            </p>

            <div class="flex items-center gap-4 pt-6">
                <button id="play-btn" class="bg-yellow-500 hover:bg-yellow-400 text-black px-10 py-4 rounded-full font-black text-lg flex items-center gap-3 transition-transform hover:scale-105 active:scale-95 shadow-xl shadow-yellow-500/20">
                    <i class="fas fa-play"></i> XEM NGAY
                </button>
                <button class="bg-white/10 hover:bg-white/20 p-4 rounded-full backdrop-blur-md transition"><i class="far fa-heart text-xl"></i></button>
                <button class="bg-white/10 hover:bg-white/20 p-4 rounded-full backdrop-blur-md transition"><i class="fas fa-plus text-xl"></i></button>
            </div>
        </div>
    </section>

    <div id="video-overlay" class="fixed inset-0 bg-black z-[100] hidden flex-col">
        <div class="p-4 flex justify-between items-center bg-[#111]">
            <span id="playing-title" class="font-bold text-yellow-500"></span>
            <button onclick="closeVideo()" class="text-white text-3xl hover:text-red-500">&times; ĐÓNG</button>
        </div>
        <iframe id="video-iframe" src="" class="w-full h-full border-0" allowfullscreen></iframe>
    </div>

    <section class="px-16 py-12">
        <h2 class="text-2xl font-bold mb-8 flex items-center gap-3">
            <span class="w-2 h-8 bg-yellow-500 rounded-full"></span> Bạn đang quan tâm gì?
        </h2>
        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-5">
            <div class="category-card bg-gradient-to-br from-blue-600 to-blue-800 p-6 rounded-[2rem] h-40 flex flex-col justify-between cursor-pointer hover:shadow-2xl hover:shadow-blue-500/30 transition-all">
                <span class="font-bold text-xl uppercase tracking-tighter">Marvel</span>
                <span class="text-xs font-bold opacity-60 italic">Xem chủ đề ></span>
            </div>
            <div class="category-card bg-gradient-to-br from-red-600 to-red-900 p-6 rounded-[2rem] h-40 flex flex-col justify-between cursor-pointer hover:shadow-2xl hover:shadow-red-500/30 transition-all">
                <span class="font-bold text-xl uppercase tracking-tighter">Cổ Trang</span>
                <span class="text-xs font-bold opacity-60 italic">Xem chủ đề ></span>
            </div>
            <div class="category-card bg-[#1a1a1a] p-6 rounded-[2rem] h-40 flex items-center justify-center cursor-pointer border border-gray-800 hover:bg-gray-800 transition-all">
                <span class="font-bold text-xl">+1 chủ đề</span>
            </div>
        </div>
    </section>

    <script>
        const movies = [
            {
                title: "Tiểu Yêu Quái Núi Lãng Lãng",
                year: "2025",
                info: "Phần 1 - Tập 1",
                desc: "Góc nhìn độc đáo về cuộc đời của một yêu quái nhỏ bé tại Núi Lãng Lãng. Những câu chuyện đời thường nhưng đầy tính triết lý về kiếp làm công cho quái vật cấp cao.",
                img: "https://image.tmdb.org/t/p/original/uD79093nF5VlXm4T9uL4rW7E2A8.jpg",
                video: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251204/wM0RTCwd/index.m3u8"
            },
            {
                title: "Đường Cung Kỳ Án",
                year: "2026",
                info: "Phần 1 - Tập 5",
                desc: "Vụ án bí ẩn tại kinh thành khiến vương triều chao đảo. Những âm mưu đen tối dần được hé lộ qua từng tập phim kịch tính.",
                img: "https://image.tmdb.org/t/p/original/m9m9Hw5r8Jv8H3x1E0O3F5X5D.jpg",
                video: "#"
            },
            {
                title: "Hắc Nguyệt Quang",
                year: "2024",
                info: "Full HD",
                desc: "Siêu phẩm tiên hiệp với kỹ xảo đỉnh cao. Trận chiến giữa tiên và ma chưa bao giờ rực rỡ và bi thương đến thế.",
                img: "https://image.tmdb.org/t/p/original/5i6SjygrCjSfsZ6tSTH3fZ9ZdE1.jpg",
                video: "#"
            }
        ];

        let currentIndex = 0;
        let timer;
        const playBtn = document.getElementById('play-btn');

        function updateBanner() {
            const movie = movies[currentIndex];
            const bg = document.getElementById('banner-bg');
            
            // Hiệu ứng zoom nhẹ khi chuyển
            bg.style.transform = "scale(1.1)";
            setTimeout(() => {
                bg.style.backgroundImage = `url('${movie.img}')`;
                bg.style.transform = "scale(1)";
            }, 100);

            document.getElementById('movie-title').innerText = movie.title;
            document.getElementById('movie-year').innerText = movie.year;
            document.getElementById('movie-info').innerText = movie.info;
            document.getElementById('movie-desc').innerText = movie.desc;

            currentIndex = (currentIndex + 1) % movies.length;
        }

        function startAuto() {
            clearInterval(timer);
            timer = setInterval(updateBanner, 3000);
        }

        // Sự kiện click nút XEM NGAY
        playBtn.addEventListener('click', () => {
            // Dừng banner ngay lập tức
            clearInterval(timer);
            
            const currentMovie = movies[currentIndex === 0 ? movies.length - 1 : currentIndex - 1];
            
            // Mở trình phát phim
            if(currentMovie.video !== "#") {
                document.getElementById('playing-title').innerText = "Đang xem: " + currentMovie.title;
                document.getElementById('video-iframe').src = currentMovie.video;
                document.getElementById('video-overlay').classList.remove('hidden');
            }

            // Đợi 5s sau khi nhấn mới cho phép chạy lại (nếu chưa đóng video)
            setTimeout(() => {
                if(document.getElementById('video-overlay').classList.contains('hidden')) {
                    startAuto();
                }
            }, 5000);
        });

        function closeVideo() {
            document.getElementById('video-overlay').classList.add('hidden');
            document.getElementById('video-iframe').src = "";
            startAuto(); // Chạy lại banner khi đóng video
        }

        // Khởi động
        updateBanner();
        startAuto();
    </script>
</body>
</html>
