<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xô Phim - Tự Thêm Phim</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <style>
        .banner-gradient { background: linear-gradient(to top, rgba(18,18,18,1) 10%, rgba(18,18,18,0.4) 50%, rgba(18,18,18,0.2) 100%); }
        .swiper-pagination-bullet { background: rgba(255,255,255,0.3); opacity: 1; width: 25px; height: 3px; border-radius: 2px; }
        .swiper-pagination-bullet-active { background: #eab308; width: 35px; }
        #player-overlay { transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        .episode-btn.active { background-color: #eab308; color: black; font-weight: bold; }
        .banner-img { transition: transform 1.2s ease-out; }
        .swiper-slide-active .banner-img { transform: scale(1.08); }
    </style>
</head>
<body class="bg-[#121212] text-white font-sans overflow-x-hidden">

    <header class="flex items-center justify-between px-5 md:px-10 py-4 absolute w-full z-40 bg-transparent">
        <div class="text-xl md:text-2xl font-bold flex items-center gap-2 mx-auto">
            <div class="bg-yellow-500 rounded-full p-2"><i class="fas fa-play text-black text-xs"></i></div>
            Xô Phim
        </div>
    </header>

    <div class="swiper mySwiper h-[75vh] md:h-[88vh] w-full">
        <div class="swiper-wrapper" id="main-banner-wrapper"></div>
        <div class="swiper-pagination !bottom-10"></div>
    </div>

    <div id="player-overlay" class="fixed inset-0 bg-[#0a0a0a] z-[100] translate-y-full overflow-y-auto">
        <div class="sticky top-0 bg-[#0a0a0a]/95 backdrop-blur-md p-4 flex justify-between items-center z-10 border-b border-white/5">
            <h2 id="playing-title" class="font-bold truncate max-w-[70%] text-yellow-500 text-sm">Đang tải...</h2>
            <button onclick="closePlayer()" class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center"><i class="fas fa-times"></i></button>
        </div>
        <div class="w-full aspect-video bg-black"><iframe id="video-iframe" class="w-full h-full" src="" frameborder="0" allowfullscreen></iframe></div>
        <div class="p-4 md:p-10 max-w-6xl mx-auto">
            <div class="flex flex-col md:flex-row gap-6 mb-10">
                <div class="w-32 md:w-48 shrink-0 mx-auto md:mx-0">
                    <img id="overlay-poster" class="w-full rounded-xl shadow-2xl border border-white/10 aspect-[3/4] object-cover" src="">
                    <div id="overlay-status" class="mt-3 text-center py-1.5 bg-yellow-500/10 text-yellow-500 text-[10px] rounded-full font-bold">--</div>
                </div>
                <div class="flex-1 text-center md:text-left">
                    <h3 id="overlay-name" class="text-2xl md:text-4xl font-bold mb-1">--</h3>
                    <p id="overlay-subname" class="text-gray-500 text-sm mb-5 italic">--</p>
                    <div id="episode-list" class="grid grid-cols-3 sm:grid-cols-6 md:grid-cols-10 gap-3 mt-8"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        /* ============================================================
           PHẦN 1: NƠI BẠN TỰ THÊM PHIM (DÁN VÀO ĐÂY)
           ============================================================ */
        const movies = [
            {
                id: 1,
                title: "Tiểu Yêu Quái Núi Lãng Lãng",
                subTitle: "Nobody - Yao-Chinese Folktales",
                year: "2024",
                info: "Phim Ngắn",
                desc: "Câu chuyện cảm động về một chú heo con tiểu yêu quái...",
                img: "https://i.ytimg.com/vi/aRAraAnh3Ns/maxresdefault.jpg",
                episodes: [
                    { name: "Full", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251204/wM0RTCwd/index.m3u8" }
                ]
            },
            {
                id: 2,
                title: "Đường Cung Kỳ Án",
                subTitle: "The Mystery of Tang Court",
                year: "2025",
                info: "Phần 1",
                desc: "Vụ án mạng kỳ bí tại kinh thành vào đêm Nguyên Tiêu...",
                img: "https://image.tmdb.org/t/p/w780/a2Qi3CQL1KRuL4IYaCbxwqaCKVQ.jpg",
                episodes: [
                    { name: "Tập 01", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260205/BHpU80io/index.m3u8" },
                    { name: "Tập 02", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260206/7uu3qRiI/index.m3u8" },
                    { name: "Tập 03", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260205/bd3s3dd1/index.m3u8" },
                    { name: "Tập 04", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260205/shTS8xWn/index.m3u8" },
                    { name: "Tập 05", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260206/K3KwyMw2/index.m3u8" }
                ]
            }
            {
    id: 104,
    title: "Cậu Bé Mất Tích (Phần 1)",
    subTitle: "Stranger Things (Season 1)",
    year: "2016",
    info: "Kinh Dị - Viễn Tưởng",
    desc: "Tại thị trấn Hawkins, một cậu bé biến mất một cách bí ẩn, dẫn đến việc lộ diện các thí nghiệm chính phủ bí mật và một cô bé có năng lực siêu nhiên kỳ lạ. Những người bạn thân của cậu bắt đầu cuộc hành trình tìm kiếm đầy rẫy nguy hiểm từ thế giới ngược.",
    img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20251127-1/4e76c982472d25b28d2b8b0a177f79d7.jpg",
    episodes: [
        { name: "Tập 01", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/eMrQhses/index.m3u8" },
        { name: "Tập 02", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/yAIeQK28/index.m3u8" },
        { name: "Tập 03", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/bMLS6ssd/index.m3u8" },
        { name: "Tập 04", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/9GOe0ERm/index.m3u8" },
        { name: "Tập 05", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/dt44QZBb/index.m3u8" },
        { name: "Tập 06", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/rJDxkKag/index.m3u8" },
        { name: "Tập 07", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/GHYwItQu/index.m3u8" },
        { name: "Tập 08", url: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/T9dfPeqG/index.m3u8" }
    ]
},
            }// <-- Dán phim mới của bạn vào đây (nhớ có dấu phẩy ở phim trước đó)
        ];

        /* ============================================================
           PHẦN 2: HỆ THỐNG XỬ LÝ (KHÔNG CẦN CHỈNH)
           ============================================================ */
        const wrapper = document.getElementById('main-banner-wrapper');
        movies.forEach(movie => {
            wrapper.innerHTML += `
                <div class="swiper-slide relative">
                    <div class="banner-img absolute inset-0 bg-cover bg-center" style="background-image: url('${movie.img}')"></div>
                    <div class="absolute inset-0 banner-gradient"></div>
                    <div class="relative z-10 flex flex-col justify-end md:justify-center h-full px-6 md:px-16 pb-24 md:pb-0 text-center md:text-left">
                        <h1 class="text-3xl md:text-5xl font-bold mb-3">${movie.title}</h1>
                        <p class="hidden md:block text-gray-300 text-sm max-w-xl mb-8">${movie.desc}</p>
                        <button onclick="openPlayer(${movie.id})" class="mx-auto md:mx-0 w-max bg-yellow-500 text-black px-12 py-3.5 rounded-full font-black text-sm flex items-center gap-2 active:scale-90 transition-all">
                            <i class="fas fa-play"></i> XEM NGAY
                        </button>
                    </div>
                </div>`;
        });

        const swiper = new Swiper(".mySwiper", {
            loop: true,
            speed: 1000,
            autoplay: { delay: 3000, disableOnInteraction: false },
            pagination: { el: ".swiper-pagination", clickable: true },
        });

        function openPlayer(movieId) {
            const movie = movies.find(m => m.id === movieId);
            document.getElementById('overlay-name').innerText = movie.title;
            document.getElementById('overlay-subname').innerText = movie.subTitle;
            document.getElementById('overlay-poster').src = movie.img;
            document.getElementById('overlay-status').innerText = movie.episodes.length > 1 ? `Đã chiếu: ${movie.episodes.length} tập` : `Full HD`;
            const epContainer = document.getElementById('episode-list');
            epContainer.innerHTML = '';
            movie.episodes.forEach((ep, index) => {
                const btn = document.createElement('button');
                btn.className = `episode-btn border border-white/10 bg-white/5 py-3 rounded-xl text-[11px] font-medium`;
                btn.innerText = ep.name;
                btn.onclick = () => {
                    document.getElementById('video-iframe').src = ep.url;
                    document.getElementById('playing-title').innerText = `Phát: ${movie.title} - ${ep.name}`;
                    document.querySelectorAll('.episode-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                };
                epContainer.appendChild(btn);
                if(index === 0) btn.click();
            });
            document.getElementById('player-overlay').style.transform = 'translateY(0)';
            document.body.style.overflow = 'hidden';
            swiper.autoplay.stop();
        }

        function closePlayer() {
            document.getElementById('player-overlay').style.transform = 'translateY(100%)';
            document.getElementById('video-iframe').src = '';
            document.body.style.overflow = 'auto';
            swiper.autoplay.start();
        }
    </script>
</body>
</html>
