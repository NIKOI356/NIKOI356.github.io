<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xô Phim - Phim hay cả rổ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #1a1a20; color: white; font-family: sans-serif; overflow-x: hidden; }
        .banner-gradient { background: linear-gradient(to top, #1a1a20 5%, rgba(26,26,32,0.6) 40%, rgba(26,26,32,0.2) 100%); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .thumb-circle { width: 45px; height: 45px; border-radius: 50%; border: 2px solid transparent; opacity: 0.5; overflow: hidden; transition: 0.4s; cursor: pointer; flex-shrink: 0; }
        .thumb-active { border-color: #fff; opacity: 1; transform: scale(1.1); box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        .tag { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 2px 10px; border-radius: 4px; font-size: 11px; }
        .movie-card { transition: transform 0.3s ease; }
        .movie-card:hover { transform: translateY(-8px); }
        .category-card { transition: all 0.3s ease; min-width: 170px; aspect-ratio: 16/10; border-radius: 12px; }
        .category-card:hover { transform: translateY(-5px); filter: brightness(1.2); }
        .animate-fade { animation: fade 0.8s ease-in-out; }
        @keyframes fade { from { opacity: 0.4; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        #movie-overlay { background: rgba(10, 10, 12, 0.98); backdrop-filter: blur(20px); }
        .ep-btn.active { background-color: #eab308; color: black; border-color: #eab308; }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #eab308; border-radius: 10px; }
    </style>
</head>
<body>

    <header class="fixed w-full z-50 flex items-center justify-between px-6 py-4 bg-transparent transition-all" id="header">
        <div class="flex items-center gap-2 cursor-pointer" onclick="location.reload()">
            <div class="bg-yellow-500 rounded-full p-1.5 shadow-lg shadow-yellow-500/20"><i class="fas fa-play text-black text-[10px]"></i></div>
            <span class="text-xl font-black tracking-tight uppercase">Xô Phim</span>
        </div>
        <div class="flex items-center gap-6">
            <div class="hidden md:flex gap-6 text-sm font-bold opacity-80 uppercase tracking-tighter">
                <a href="#" class="hover:text-yellow-500">Phim Lẻ</a>
                <a href="#" class="hover:text-yellow-500">Phim Bộ</a>
                <a href="#" class="hover:text-yellow-500">Quốc gia</a>
            </div>
            <i class="fas fa-search text-lg cursor-pointer hover:text-yellow-500"></i>
        </div>
    </header>

    <section class="relative h-[90vh] w-full overflow-hidden" id="hero-section">
        <div id="banner-bg" class="absolute inset-0 bg-cover bg-center transition-all duration-1000 scale-100"></div>
        <div class="absolute inset-0 banner-gradient"></div>

        <div class="relative z-10 flex flex-col items-center justify-end h-full px-6 pb-20 text-center">
            <div id="movie-info-content" class="animate-fade max-w-3xl">
                <h1 id="movie-title" class="text-4xl md:text-6xl font-bold mb-2 drop-shadow-2xl italic uppercase">--</h1>
                <p id="movie-sub" class="text-yellow-500 text-lg mb-4 font-medium italic opacity-90 tracking-wide">--</p>
                <div class="flex flex-wrap justify-center gap-2 mb-6">
                    <span class="tag bg-yellow-500 text-black font-bold border-none" id="movie-rating">IMDb --</span>
                    <span id="movie-year" class="tag">--</span>
                    <span id="movie-status" class="tag">--</span>
                    <span class="tag">HD</span>
                </div>
                <p id="movie-desc" class="text-gray-300 text-sm md:text-base mb-10 line-clamp-2 md:line-clamp-3 opacity-80 leading-relaxed px-4 md:px-20">--</p>
                <div class="flex gap-4 justify-center mb-12">
                    <button onclick="openPlayer(currentIndex)" class="bg-yellow-500 text-black px-12 py-3.5 rounded-full font-black text-sm hover:scale-105 active:scale-95 transition shadow-xl shadow-yellow-500/30">XEM NGAY</button>
                    <button class="bg-white/10 backdrop-blur-md text-white px-6 py-3.5 rounded-full font-bold text-sm hover:bg-white/20 transition"><i class="far fa-heart mr-2"></i>Lưu</button>
                </div>
            </div>
            <div id="thumb-container" class="flex gap-4 overflow-x-auto no-scrollbar max-w-full px-4 items-center"></div>
        </div>
    </section>

    <section class="px-6 md:px-12 mb-20">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-bold italic uppercase tracking-tight text-gray-400">Danh sách phim cập nhật</h2>
        </div>
        <div id="movie-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-5"></div>
    </section>

    <div id="movie-overlay" class="fixed inset-0 z-[100] hidden flex flex-col">
        <div class="flex items-center justify-between px-6 py-4 bg-[#0a0a0c]">
            <div class="flex items-center gap-4">
                <button onclick="closePlayer()" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 transition"><i class="fas fa-arrow-left"></i></button>
                <div>
                    <h2 id="player-title" class="text-lg font-bold uppercase tracking-tight italic">--</h2>
                    <p id="player-ep-name" class="text-xs text-yellow-500 font-bold">Đang xem: --</p>
                </div>
            </div>
            <button onclick="closePlayer()" class="text-3xl font-light">&times;</button>
        </div>
        <div class="flex-1 flex flex-col lg:flex-row overflow-hidden">
            <div class="w-full lg:w-3/4 bg-black flex flex-col">
                <div class="relative w-full aspect-video">
                    <iframe id="video-iframe" class="w-full h-full" src="" frameborder="0" allowfullscreen></iframe>
                </div>
                <div class="p-6 hidden md:block overflow-y-auto">
                    <p id="player-desc" class="text-gray-400 text-sm italic border-l-4 border-yellow-500 pl-4"></p>
                </div>
            </div>
            <div class="w-full lg:w-1/4 bg-[#1a1a20] border-l border-white/5 p-6">
                <h3 class="font-black italic text-sm uppercase mb-4">Danh sách tập</h3>
                <div id="episode-grid" class="grid grid-cols-4 lg:grid-cols-3 gap-2 overflow-y-auto max-h-[70vh] pr-2 custom-scrollbar"></div>
            </div>
        </div>
    </div>

    <script>
        const movies = [
            {
                id: 0,
                title: "Đường Cung Kỳ Án",
                sub: "Unveil: Jadewind",
                year: "2026",
                rating: "9.2",
                status: "Tập 05",
                desc: "Vào tiết Nguyên Tiêu, công chúa Ninh Viễn chết một cách kỳ lạ...",
                img: "https://phimimg.com/upload/vod/20260205-1/365d6e501c0e0d6263f51b0225429670.jpg",
                episodes: [
                    { name: "Tập 01", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260205/lru6VjhD/index.m3u8" },
                    { name: "Tập 05", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260206/K3KwyMw2/index.m3u8" }
                ]
            },
            {
                id: 1,
                title: "Stranger Things",
                sub: "Cậu Bé Mất Tích",
                year: "2016-2025",
                rating: "8.7",
                status: "Full 5 Phần",
                desc: "Một thị trấn nhỏ phát hiện ra một bí ẩn liên quan đến các cuộc thí nghiệm bí mật, các lực lượng siêu nhiên đáng sợ.",
                img: "https://phimimg.com/upload/vod/20251127-1/88dfce03b997600f0a898945fe8facb2.jpg",
                episodes: [
                    { name: "P1-T01", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/eMrQhses/index.m3u8" },
                    { name: "P1-T08", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/T9dfPeqG/index.m3u8" },
                    { name: "P2-T01", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/VpgRLCmQ/index.m3u8" },
                    { name: "P2-T09", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/QfegEzof/index.m3u8" },
                    { name: "P3-T01", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/0VT1ek7V/index.m3u8" },
                    { name: "P3-T08", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/ZwVz0i1P/index.m3u8" },
                    { name: "P4-T01", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/xlXYIN4h/index.m3u8" },
                    { name: "P4-T09", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/wlTpiDT6/index.m3u8" },
                    { name: "P5-T01", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20251127/VdVcTjll/index.m3u8" },
                    { name: "P5-T08", link: "https://player.phimapi.com/player/?url=https://s6.kkphimplayer6.com/20260101/YyOnJ03e/index.m3u8" }
                ]
            },
            {
                id: 2,
                title: "Sói Già Phố Wall",
                sub: "The Wolf of Wall Street",
                year: "2013",
                rating: "8.2",
                status: "Full HD",
                desc: "Dựa trên câu chuyện có thật của Jordan Belfort...",
                img: "https://phimimg.com/upload/vod/20231018-1/2e6fd68d5e7002fcc9fa6b8453242a8a.jpg",
                episodes: [{ name: "Full", link: "https://player.phimapi.com/player/?url=https://s2.phim1280.tv/20231019/KZ3IDVB4/index.m3u8" }]
            },
            {
                id: 3,
                title: "Bóng Ma Anh Quốc",
                sub: "Peaky Blinders",
                year: "2024",
                rating: "8.8",
                status: "Full",
                desc: "Băng đảng tội phạm khét tiếng Birmingham...",
                img: "https://phimimg.com/upload/vod/20240730-1/6c17cbb10c2284bb6001e4a8a79ad786.jpg",
                episodes: [{ name: "Tập 01", link: "#" }]
            }
        ];

        let currentIndex = 0;
        function updateBanner() {
            const m = movies[currentIndex];
            document.getElementById('banner-bg').style.backgroundImage = `url('${m.img}')`;
            document.getElementById('movie-title').innerText = m.title;
            document.getElementById('movie-sub').innerText = m.sub;
            document.getElementById('movie-year').innerText = m.year;
            document.getElementById('movie-rating').innerText = `IMDb ${m.rating}`;
            document.getElementById('movie-status').innerText = m.status;
            document.getElementById('movie-desc').innerText = m.desc;
            document.querySelectorAll('.thumb-circle').forEach((t, i) => t.classList.toggle('thumb-active', i === currentIndex));
        }

        function openPlayer(idx) {
            const m = movies[idx];
            document.getElementById('player-title').innerText = m.title;
            document.getElementById('player-desc').innerText = m.desc;
            document.getElementById('episode-grid').innerHTML = m.episodes.map((e, i) => `
                <button onclick="play('${e.link}', '${e.name}', this)" class="ep-btn border border-white/10 py-2 rounded text-[10px] font-bold hover:bg-yellow-500 hover:text-black transition ${i===0?'active':''}">
                    ${e.name}
                </button>
            `).join('');
            play(m.episodes[0].link, m.episodes[0].name);
            document.getElementById('movie-overlay').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function play(link, name, btn) {
            document.getElementById('video-iframe').src = link;
            document.getElementById('player-ep-name').innerText = `Đang xem: ${name}`;
            if(btn) { document.querySelectorAll('.ep-btn').forEach(b => b.classList.remove('active')); btn.classList.add('active'); }
        }

        function closePlayer() { document.getElementById('movie-overlay').classList.add('hidden'); document.getElementById('video-iframe').src = ""; document.body.style.overflow = 'auto'; }

        function renderGrid() {
            document.getElementById('movie-grid').innerHTML = movies.map((m, i) => `
                <div class="movie-card group cursor-pointer" onclick="openPlayer(${i})">
                    <div class="relative aspect-[2/3] overflow-hidden rounded-xl bg-gray-800">
                        <img src="${m.img}" class="w-full h-full object-cover group-hover:scale-110 transition duration-500">
                        <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition flex items-center justify-center">
                            <div class="w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center text-black"><i class="fas fa-play text-xs"></i></div>
                        </div>
                    </div>
                    <div class="mt-3"><h3 class="text-sm font-bold truncate group-hover:text-yellow-500 uppercase">${m.title}</h3><p class="text-[10px] text-gray-500 italic">${m.sub}</p></div>
                </div>
            `).join('');
        }

        movies.forEach((m, i) => {
            const t = document.createElement('div');
            t.className = `thumb-circle ${i === 0 ? 'thumb-active' : ''}`;
            t.innerHTML = `<img src="${m.img}" class="w-full h-full object-cover">`;
            t.onclick = () => { currentIndex = i; updateBanner(); };
            document.getElementById('thumb-container').appendChild(t);
        });

        renderGrid(); updateBanner();
        setInterval(() => { currentIndex = (currentIndex + 1) % movies.length; updateBanner(); }, 8000);
    </script>
</body>
</html>
