<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xô Phim - Phim hay cả rổ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #1a1a20; color: white; font-family: sans-serif; overflow-x: hidden; }
        .banner-gradient { background: linear-gradient(to top, #1a1a20 5%, rgba(26,26,32,0.6) 40%, rgba(26,26,32,0.2) 100%); }
        .overlay-bg { background: rgba(20,20,25,0.98); backdrop-filter: blur(15px); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .thumb-circle { width: 45px; height: 45px; border-radius: 50%; border: 2px solid transparent; opacity: 0.5; overflow: hidden; transition: 0.4s; cursor: pointer; flex-shrink: 0; }
        .thumb-active { border-color: #fff; opacity: 1; transform: scale(1.2) translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        .tag { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); padding: 2px 10px; border-radius: 4px; font-size: 11px; }
        .animate-fade { animation: fade 0.8s ease-in-out; }
        @keyframes fade { from { opacity: 0.4; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <header class="fixed w-full z-50 flex items-center justify-between px-6 py-4 bg-transparent">
        <div class="flex items-center gap-2">
            <div class="bg-yellow-500 rounded-full p-1.5 shadow-lg shadow-yellow-500/20"><i class="fas fa-play text-black text-[10px]"></i></div>
            <span class="text-xl font-black tracking-tight">Xô Phim</span>
        </div>
        <div class="flex items-center gap-6">
            <div class="hidden md:flex gap-6 text-sm font-medium opacity-80">
                <a href="#">Phim Lẻ</a><a href="#">Phim Bộ</a><a href="#">Quốc gia</a>
            </div>
            <i class="fas fa-search text-lg cursor-pointer"></i>
        </div>
    </header>

    <section class="relative h-[90vh] w-full overflow-hidden" id="hero-section">
        <div id="banner-bg" class="absolute inset-0 bg-cover bg-center transition-all duration-1000 scale-100" style="background-image: url('');"></div>
        <div class="absolute inset-0 banner-gradient"></div>

        <div class="relative z-10 flex flex-col items-center justify-end h-full px-6 pb-20 text-center">
            <div id="movie-info-content" class="animate-fade max-w-3xl">
                <h1 id="movie-title" class="text-4xl md:text-6xl font-bold mb-2 drop-shadow-2xl">--</h1>
                <p id="movie-sub" class="text-yellow-500 text-lg mb-4 font-medium italic opacity-90">--</p>
                
                <div class="flex flex-wrap justify-center gap-2 mb-6">
                    <span class="tag bg-yellow-500 text-black font-bold border-none" id="movie-rating">IMDb --</span>
                    <span id="movie-year" class="tag">--</span>
                    <span id="movie-status" class="tag">--</span>
                    <span class="tag">HD</span>
                </div>

                <p id="movie-desc" class="text-gray-300 text-sm md:text-base mb-10 line-clamp-2 md:line-clamp-3 opacity-80 leading-relaxed px-4 md:px-20">--</p>

                <div class="flex gap-4 justify-center mb-12">
                    <button onclick="openOverlay()" class="bg-yellow-500 text-black px-12 py-3.5 rounded-full font-black text-sm hover:scale-105 active:scale-95 transition shadow-xl shadow-yellow-500/30">
                        XEM NGAY
                    </button>
                    <button class="bg-white/10 backdrop-blur-md text-white px-6 py-3.5 rounded-full font-bold text-sm hover:bg-white/20 transition">
                        <i class="far fa-heart mr-2"></i>Lưu
                    </button>
                </div>
            </div>

            <div id="thumb-container" class="flex gap-4 overflow-x-auto no-scrollbar max-w-full px-4 items-center"></div>
        </div>
    </section>

    <div id="movie-overlay" class="fixed inset-0 z-[100] overlay-bg hidden overflow-y-auto">
        </div>

    <script>
        const movies = [
            {
                title: "Cậu Bé Mất Tích",
                sub: "Stranger Things",
                year: "2025",
                rating: "8.7",
                status: "Phần 5 - Tập 8",
                desc: "Khi một cậu bé mất tích, một thị trấn nhỏ phát hiện ra một bí ẩn liên quan đến các cuộc thí nghiệm bí mật, các lực lượng siêu nhiên đáng sợ và một cô bé kỳ lạ.",
                img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20251127-1/88dfce03b997600f0a898945fe8facb2.jpg"
            },
            {
                title: "Bóng Ma Anh Quốc",
                sub: "Peaky Blinders",
                year: "2024",
                rating: "8.8",
                status: "Trọn bộ 6 phần",
                desc: "Một băng đảng tội phạm khét tiếng ở Birmingham, Anh, vào năm 1919, được dẫn dắt bởi Tommy Shelby hung bạo, một ông trùm tội phạm có ý định vươn lên trên thế giới bằng bất cứ giá nào.",
                img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20240730-1/6c17cbb10c2284bb6001e4a8a79ad786.jpg"
            },
            {
                title: "Đường Cung Kỳ Án",
                sub: "Unveil: Jadewind",
                year: "2026",
                rating: "0.0",
                status: "Phần 1 - Tập 5",
                desc: "Vào tiết Nguyên Tiêu, công chúa Ninh Viễn chết một cách kỳ lạ trong dạ yến. Lý Bội Nghi của Nội Yết Cục và Thái Sử Thừa Tiêu Ly Cẩn được phái đi điều tra những bí ẩn đen tối.",
                img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20251127-1/88dfce03b997600f0a898945fe8facb2.jpg"
            },
            {
                title: "Sói Già Phố Wall",
                sub: "The Wolf of Wall Street",
                year: "2013",
                rating: "8.2",
                status: "Phim Lẻ",
                desc: "Dựa trên câu chuyện có thật của Jordan Belfort, từ bước thăng tiến của ông trở thành một nhà môi giới chứng khoán giàu có sống một cuộc đời xa hoa cho đến sự sụp đổ liên quan đến tội phạm và tham nhũng.",
                img: "https://phimapi.com/image.php?url=https://phimimg.com/upload/vod/20231018-1/2e6fd68d5e7002fcc9fa6b8453242a8a.jpg"
            }
        ];

        let currentIndex = 0;
        let timerDuration = 3000; // Mặc định 3s
        let slideInterval;

        const heroSection = document.getElementById('hero-section');

        function updateBanner() {
            const m = movies[currentIndex];
            const infoBox = document.getElementById('movie-info-content');
            
            // Hiệu ứng fade thông tin
            infoBox.style.opacity = 0;
            
            setTimeout(() => {
                document.getElementById('banner-bg').style.backgroundImage = `url('${m.img}')`;
                document.getElementById('movie-title').innerText = m.title;
                document.getElementById('movie-sub').innerText = m.sub;
                document.getElementById('movie-year').innerText = m.year;
                document.getElementById('movie-rating').innerText = `IMDb ${m.rating}`;
                document.getElementById('movie-status').innerText = m.status;
                document.getElementById('movie-desc').innerText = m.desc;
                
                infoBox.style.opacity = 1;
                infoBox.classList.remove('animate-fade');
                void infoBox.offsetWidth; // Trigger reflow
                infoBox.classList.add('animate-fade');
            }, 300);

            document.querySelectorAll('.thumb-circle').forEach((t, i) => {
                t.classList.toggle('thumb-active', i === currentIndex);
            });
        }

        function startTimer(duration) {
            clearInterval(slideInterval);
            slideInterval = setInterval(() => {
                currentIndex = (currentIndex + 1) % movies.length;
                updateBanner();
            }, duration);
        }

        // Tạo nút tròn
        const thumbContainer = document.getElementById('thumb-container');
        movies.forEach((m, i) => {
            const t = document.createElement('div');
            t.className = `thumb-circle ${i === 0 ? 'thumb-active' : ''}`;
            t.innerHTML = `<img src="${m.img}" class="w-full h-full object-cover">`;
            
            t.onclick = () => {
                currentIndex = i;
                updateBanner();
                startTimer(5000); // Khi click chọn, giãn thời gian lên 5s
            };
            thumbContainer.appendChild(t);
        });

        // Theo dõi chuột: Khi di chuyển vào vùng Banner sẽ giãn thời gian
        heroSection.onmouseenter = () => startTimer(5000); 
        heroSection.onmouseleave = () => startTimer(3000);

        // Khởi tạo
        updateBanner();
        startTimer(3000);
    </script>
</body>
</html>
